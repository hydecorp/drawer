/*!
 * Copyright (c) 2018 Florian Klampfer <https://qwtel.com/>
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 * 
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("hyDrawer",[],e):"object"==typeof exports?exports.hyDrawer=e():t.hyDrawer=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}({2:function(t,e,n){"use strict";n.r(e);var r="undefined"!=typeof Set&&1===new Set([1]).size?Set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(t=t.filter((function(e,n){return n===t.indexOf(e)}))).size=t.length,t.has=function(e){return t.indexOf(e)>-1},t.add=function(e){return t.has(e)||(t.size++,t.push(e)),t},t.delete=function(e){var n;return(n=t.has(e))&&(t.size--,t.splice(t.indexOf(e),1)),n},t.clear=function(){for(;t.pop(););t.size=0},t};function o(t,e){return t?t(e):e}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t.replace(/([a-z\d])([A-Z])/g,"$1".concat(e,"$2")).replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1".concat(e,"$2")).toLowerCase()}function u(t){for(var e=t,n=!1,r=!1,o=!1,i=0;i<e.length;i++){var u=e.charAt(i);n&&/[a-zA-Z]/.test(u)&&u.toUpperCase()===u?(e="".concat(e.substr(0,i),"-").concat(e.substr(i)),n=!1,o=r,r=!0,i++):r&&o&&/[a-zA-Z]/.test(u)&&u.toLowerCase()===u?(e="".concat(e.substr(0,i-1),"-").concat(e.substr(i-1)),o=r,r=!1,n=!0):(n=u.toLowerCase()===u,o=r,r=u.toUpperCase()===u)}return e}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var d=new r(["customevent"]),v=Symbol||function(t){return"_".concat(t)},m=v("sroot"),w=v("state");window.process=window.process||{},window.process.env=window.process.env||{},window.requestIdleCallback=window.requestIdleCallback||function(t){return window.setTimeout(t,0)},window.cancelIdleCallback=window.cancelIdleCallback||window.clearTimeout;var g=function t(){b(this,t)};function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e,n){return(O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=I(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j(t,e,n){return e&&E(t.prototype,e),n&&E(t,n),t}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=I(t);if(e){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(t,e){return!e||"object"!==_(e)&&"function"!=typeof e?C(t):e}function C(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}new r([].concat(function(t){if(Array.isArray(t))return k(t)}(A=d)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(A)||function(t,e){if(t){if("string"==typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(t,e):void 0}}(A)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["template","customelements"]));var A,R=null,N=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(n,t);var e=P(n);function n(){var t;S(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).setupComponent(C(t),t.getStateFromAttributes()),t}return j(n,null,[{key:"getObservedAttributes",value:function(){var t=this.types;return Object.keys(t).map((function(t){return i(t)}))}}]),j(n,[{key:"reflectAttribute",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=i(t);n&&(R=r);var o=this.constructor.types,u=o[t];var c=u.stringify(e);null==c?this.removeAttribute(r):this.setAttribute(r,c)}},{key:"getStateFromAttributes",value:function(){var t=this,e=this.constructor.types,n={};return Object.keys(e).forEach((function(r){var u=i(r),c=t.hasAttribute(u)?t.getAttribute(u):null,s=o(e[r],c);null!=s&&(n[r]=s)})),n}},{key:"connectedCallback",value:function(){this.connectComponent()}},{key:"disconnectedCallback",value:function(){this.disconnectComponent()}},{key:"adoptedCallback",value:function(){this.adoptComponent()}},{key:"attributeChangedCallback",value:function(t,e,n){if(R===t)R=null;else if(e!==n){var r=this.constructor.types,i=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=[].map.call(e,(function(t){return t.trim()})).filter((function(t){return t.length})).join("-");return 0===r.length?"":1===r.length?r.toLowerCase():(r=u(r)).replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(function(t,e){return e.toUpperCase()}))}(t),c=o(r[i],n);this[i]=null!=c?c:this.constructor.defaults[i]}}},{key:"setInternalState",value:function(t,e){O(I(n.prototype),"setInternalState",this).call(this,t,e),this.reflectAttribute(t,e,!0)}},{key:"setupShadowDOM",value:function(t){var e=this.getTemplate();if(e){if("attachShadow"in Element.prototype)return t.attachShadow({mode:"open"}),t.shadowRoot.appendChild(e),t.shadowRoot;throw Error("ShadowDOM API not supported")}return t}},{key:"getEl",value:function(){return this}},{key:"getTemplate",value:function(){var t=this.constructor.componentName;return document.querySelector('link[href*="'.concat(t,'"]')).import.querySelector("#".concat(t,"-template")).content.cloneNode(!0)}},{key:"template",get:function(){return this.getTemplate()}}]),n}(t)};function M(){var t="function"==typeof window.HTMLElement?window.HTMLElement:function(){};return Reflect.construct(t,[],this.__proto__.constructor)}Object.setPrototypeOf&&(Object.setPrototypeOf(M.prototype,HTMLElement.prototype),Object.setPrototypeOf(M,HTMLElement));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var D=function(t,e){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function $(t,e){function n(){this.constructor=t}D(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function V(t){return"function"==typeof t}var L=!1,X={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;L=t},get useDeprecatedSynchronousErrorHandling(){return L}};function Y(t){setTimeout((function(){throw t}),0)}var F={closed:!0,next:function(t){},error:function(t){if(X.useDeprecatedSynchronousErrorHandling)throw t;Y(t)},complete:function(){}},q=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t){return null!==t&&"object"===H(t)}var U=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}();function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var B=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var i=0;i<n.length;++i){n[i].remove(this)}if(V(r))try{r.call(this)}catch(t){e=t instanceof U?Z(t.errors):[t]}if(q(o)){i=-1;for(var u=o.length;++i<u;){var c=o[i];if(z(c))try{c.unsubscribe()}catch(t){e=e||[],t instanceof U?e=e.concat(Z(t.errors)):e.push(t)}}}if(e)throw new U(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(W(e)){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof t){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function Z(t){return t.reduce((function(t,e){return t.concat(e instanceof U?e.errors:e)}),[])}var G=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var J=function(t){function e(n,r,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=F;break;case 1:if(!n){i.destination=F;break}if("object"===K(n)){n instanceof e?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new Q(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new Q(i,n,r,o)}return i}return $(e,t),e.prototype[G]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(B),Q=function(t){function e(e,n,r,o){var i,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return V(n)?i=n:n&&(i=n.next,r=n.error,o=n.complete,n!==F&&(V((c=Object.create(n)).unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=i,u._error=r,u._complete=o,u}return $(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;X.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=X.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Y(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Y(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};X.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),X.useDeprecatedSynchronousErrorHandling)throw t;Y(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!X.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return X.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Y(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(J);var tt=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function et(t){return t}function nt(t){return 0===t.length?et:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var rt=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=function(t,e,n){if(t){if(t instanceof J)return t;if(t[G])return t[G]()}return t||e||n?new J(t,e,n):new J(F)}(t,e,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||X.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),X.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){X.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof J?r:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=ot(e))((function(e,r){var o;o=n.subscribe((function(e){try{t(e)}catch(t){r(t),o&&o.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[tt]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:nt(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=ot(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function ot(t){if(t||(t=X.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var it=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),ut=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return $(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(B),ct=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return $(e,t),e}(J),st=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return $(e,t),e.prototype[G]=function(){return new ct(this)},e.prototype.lift=function(t){var e=new at(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new it;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new it;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new it;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new it;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new it;return this.hasError?(t.error(this.thrownError),B.EMPTY):this.isStopped?(t.complete(),B.EMPTY):(this.observers.push(t),new ut(this,t))},e.prototype.asObservable=function(){var t=new rt;return t.source=this,t},e.create=function(t,e){return new at(t,e)},e}(rt),at=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return $(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):B.EMPTY},e}(st),ft=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return $(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return $(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(B)),lt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return $(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(ft),pt=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),ht=function(t){function e(n,r){void 0===r&&(r=pt.now);var o=t.call(this,n,(function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return $(e,t),e.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,o):t.prototype.schedule.call(this,n,r,o)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(pt),yt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $(e,t),e}(ht))(lt),bt=new rt((function(t){return t.complete()}));function dt(t){return t?function(t){return new rt((function(e){return t.schedule((function(){return e.complete()}))}))}(t):bt}function vt(t){return t&&"function"==typeof t.schedule}var mt,wt=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function gt(t,e){return new rt((function(n){var r=new B,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function _t(t,e){return e?gt(t,e):new rt(wt(t))}function St(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return vt(n)?(t.pop(),gt(t,n)):_t(t)}function Ot(t){var e=t.error;t.subscriber.error(e)}mt||(mt={});var Et=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){var t,e;switch(this.kind){case"N":return St(this.value);case"E":return t=this.error,new rt(e?function(n){return e.schedule(Ot,0,{error:t,subscriber:n})}:function(e){return e.error(t)});case"C":return dt()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();var jt=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new xt(t,this.scheduler,this.delay))},t}(),xt=function(t){function e(e,n,r){void 0===r&&(r=0);var o=t.call(this,e)||this;return o.scheduler=n,o.delay=r,o}return $(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new Pt(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(Et.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(Et.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Et.createComplete()),this.unsubscribe()},e}(J),Pt=function(){return function(t,e){this.notification=t,this.destination=e}}(),Tt=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var o=t.call(this)||this;return o.scheduler=r,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=e<1?1:e,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return $(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new Ct(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=r.length;if(this.closed)throw new it;if(this.isStopped||this.hasError?e=B.EMPTY:(this.observers.push(t),e=new ut(this,t)),o&&t.add(t=new xt(t,o)),n)for(var u=0;u<i&&!t.closed;u++)t.next(r[u]);else for(u=0;u<i&&!t.closed;u++)t.next(r[u].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||yt).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(t-r[i].time<n);)i++;return o>e&&(i=Math.max(i,o-e)),i>0&&r.splice(0,i),r},e}(st),Ct=function(){return function(t,e){this.time=t,this.value=e}}();function It(t){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function At(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rt(t,e,n){return(Rt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$t(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Nt(t,e){return(Nt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$t(t);if(e){var o=$t(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dt(this,n)}}function Dt(t,e){return!e||"object"!==It(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $t(t){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Vt=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nt(t,e)}(i,t);var e,n,r,o=Mt(i);function i(){return kt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"setupComponent",value:function(t,e){var n=this,r={};this.subjects={},this.subjects.disconnect=new st,this.subjects.document=new Tt,Object.keys(this.constructor.types).map((function(t){n.subjects[t]=new Tt(1),r[t]=function(e){return n.subjects[t].next(e)}})),Object.defineProperty(this.constructor,"sideEffects",{get:function(){return r},set:function(){},enumerable:!0,configurable:!0}),Rt($t(i.prototype),"setupComponent",this).call(this,t,e)}},{key:"connectComponent",value:function(){var t=this;Rt($t(i.prototype),"connectComponent",this).call(this),this.subjects.document.next(document),Object.keys(this.constructor.types).map((function(e){return t.subjects[e].next(t[e])}))}},{key:"disconnectComponent",value:function(){Rt($t(i.prototype),"disconnectComponent",this).call(this),this.subjects.disconnect.next({})}},{key:"adaptComponent",value:function(){Rt($t(i.prototype),"adaptComponent",this).call(this),this.subjects.document.next(document)}}])&&At(e.prototype,n),r&&At(e,r),i}(t)},Lt=function(t){return null==t?null:t.trim().replace(/^\[?(.*?)\]?$/,"$1").split(",").map((function(t){return t.trim()}))||null};Lt.stringify=function(t){return t&&t.length>0?t.join(","):null};var Xt=function(t){var e=function(e){if(null==e)return null;var n=Lt(e).map(t);return n.reduce((function(t,e){return t&&null!==e}),!0)?n:null};return e.stringify=function(e){var n=e&&e.map&&e.map(t.stringify);return n&&n.reduce((function(t,e){return t&&null!==e}),!0)?Lt.stringify(n):null},e},Yt=function(t){if(null==t)return!1;var e=t.trim&&t.trim()||t;return!("false"===e||"null"===e||"undefined"===e||"0"===e||!1===e)};Yt.stringify=function(t){return t?"":null};var Ft=function(t){return null==t?null:Number(t)};Ft.stringify=function(t){return null==t?null:"".concat(t)};var qt=function(t){var e=function(e){if(null==e)return null;var n=t.indexOf(e);return n>-1?t[n]:null};return e.stringify=function(e){return-1!==t.indexOf(e)?e:null},e},Ht=function(t){if(null==t)return null;var e=(t.trim&&t.trim()||t).match(/^\/?(.*?)(\/([gimy]*))?$/);return new RegExp(e[1],e[3])};Ht.stringify=function(t){return t&&t.toString()||null};var zt=function(t){return t};zt.stringify=function(t){return t};var Ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(J),Wt=function(t){function e(e,n,r){var o=t.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=r,o.index=0,o}return $(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(J);function Bt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Zt=Bt(),Gt=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Kt(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var Jt=function(t){if(t&&"function"==typeof t[tt])return r=t,function(t){var e=r[tt]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Gt(t))return wt(t);if(Kt(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,Y),t};if(t&&"function"==typeof t[Zt])return e=t,function(t){for(var n=e[Zt]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,o=z(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+o+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Qt(t,e,n,r,o){if(void 0===o&&(o=new Wt(t,n,r)),!o.closed)return e instanceof rt?e.subscribe(o):Jt(e)(o)}var te={};function ee(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return vt(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&q(t[0])&&(t=t[0]),_t(t,r).lift(new ne(n))}var ne=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new re(t,this.resultSelector))},t}(),re=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return $(e,t),e.prototype._next=function(t){this.values.push(te),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Qt(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){var i=this.values,u=i[n],c=this.toRespond?u===te?--this.toRespond:this.toRespond:0;i[n]=e,0===c&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Ut);function oe(t){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ie(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[tt]}(t))return function(t,e){return new rt((function(n){var r=new B;return r.add(e.schedule((function(){var o=t[tt]();r.add(o.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Kt(t))return function(t,e){return new rt((function(n){var r=new B;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Gt(t))return gt(t,e);if(function(t){return t&&"function"==typeof t[Zt]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new rt((function(n){var r,o=new B;return o.add((function(){r&&"function"==typeof r.return&&r.return()})),o.add(e.schedule((function(){r=t[Zt](),o.add(e.schedule((function(){if(!n.closed){var t,e;try{var o=r.next();t=o.value,e=o.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}})))}))),o}))}(t,e)}throw new TypeError((null!==t&&oe(t)||t)+" is not observable")}function ue(t,e){return e?ie(t,e):t instanceof rt?t:new rt(Jt(t))}function ce(t){return new rt((function(e){var n;try{n=t()}catch(t){return void e.error(t)}return(n?ue(n):dt()).subscribe(e)}))}function se(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new ae(t,e))}}var ae=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new fe(t,this.project,this.thisArg))},t}(),fe=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return $(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(J);var le=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new pe(t,this.project,this.concurrent))},t}(),pe=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=t.call(this,e)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return $(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new Wt(this,e,n),o=this.destination;o.add(r);var i=Qt(this,t,void 0,void 0,r);i!==r&&o.add(i)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(Ut);function he(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),function t(e,n,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof n?function(o){return o.pipe(t((function(t,r){return ue(e(t,r)).pipe(se((function(e,o){return n(t,e,r,o)})))}),r))}:("number"==typeof n&&(r=n),function(t){return t.lift(new le(e,r))})}(et,t)}function ye(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,o=t[t.length-1];return vt(o)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof o&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof rt?t[0]:he(n)(_t(t,r))}var be=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return $(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(ft),de=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return $(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,o=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<o&&(t=n.shift()));if(this.active=!1,e){for(;++r<o&&(t=n.shift());)t.unsubscribe();throw e}},e}(ht))(be);function ve(t,e,n,r){return V(n)&&(r=n,n=void 0),r?ve(t,e,n).pipe(se((function(t){return q(t)?r.apply(void 0,t):r(t)}))):new rt((function(r){!function t(e,n,r,o,i){var u;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var c=e;e.addEventListener(n,r,i),u=function(){return c.removeEventListener(n,r,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var s=e;e.on(n,r),u=function(){return s.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var a=e;e.addListener(n,r),u=function(){return a.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var f=0,l=e.length;f<l;f++)t(e[f],n,r,o,i)}o.add(u)}(t,e,(function(t){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(t)}),r,n)}))}function me(){}var we=new rt(me);function ge(){return he(1)}function _e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ge()(St.apply(void 0,t))}function Se(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return vt(n)?(t.pop(),function(e){return _e(t,e,n)}):function(e){return _e(t,e)}}function Oe(t){return function(e){return e.lift(new Ee(t))}}var Ee=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new je(t),r=Qt(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n},t}(),je=function(t){function e(e){var n=t.call(this,e)||this;return n.seenValue=!1,n}return $(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(Ut);function xe(){return function(t){return t.lift(new Pe(t))}}var Pe=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new Te(t,n),o=e.subscribe(r);return r.closed||(r.connection=n.connect()),o},t}(),Te=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return $(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(J),Ce=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return $(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new B).add(this.source.subscribe(new ke(this.getSubject(),this))),t.closed&&(this._connection=null,t=B.EMPTY)),t},e.prototype.refCount=function(){return xe()(this)},e}(rt),Ie=function(){var t=Ce.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),ke=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return $(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(ct);var Ae=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),o=n(r).subscribe(t);return o.add(e.subscribe(r)),o},t}();function Re(){return new st}function Ne(){return function(t){return xe()((e=Re,function(t){var r;if(r="function"==typeof e?e:function(){return e},"function"==typeof n)return t.lift(new Ae(r,n));var o=Object.create(t,Ie);return o.source=t,o.subjectFactory=r,o})(t));var e,n}}function Me(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n;"function"==typeof t[t.length-1]&&(n=t.pop());var r=t;return e.lift(new De(r,n))}}var De=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new $e(t,this.observables,this.project))},t}(),$e=function(t){function e(e,n,r){var o=t.call(this,e)||this;o.observables=n,o.project=r,o.toRespond=[];var i=n.length;o.values=new Array(i);for(var u=0;u<i;u++)o.toRespond.push(u);for(u=0;u<i;u++){var c=n[u];o.add(Qt(o,c,c,u))}return o}return $(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.values[n]=e;var i=this.toRespond;if(i.length>0){var u=i.indexOf(n);-1!==u&&i.splice(u,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Ut);function Ve(t,e,n){return function(r){return r.lift(new Le(t,e,n))}}var Le=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new Xe(t,this.nextOrObserver,this.error,this.complete))},t}(),Xe=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i._tapNext=me,i._tapError=me,i._tapComplete=me,i._tapError=r||me,i._tapComplete=o||me,V(n)?(i._context=i,i._tapNext=n):n&&(i._context=n,i._tapNext=n.next||me,i._tapError=n.error||me,i._tapComplete=n.complete||me),i}return $(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(J);var Ye=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new Fe(t),r=e.subscribe(n);return r.add(Qt(n,this.notifier)),r},t}(),Fe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasValue=!1,e}return $(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,n,r,o){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(Ut),qe=new ht(ft);var He=function(){return function(t,e){this.value=t,this.timestamp=e}}();var ze=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Ue(t))},t}(),Ue=function(t){function e(e){var n=t.call(this,e)||this;return n.hasPrev=!1,n}return $(e,t),e.prototype._next=function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)},e}(J);function We(t,e){return function(n){return n.lift(new Be(t,e))}}var Be=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Ze(t,this.predicate,this.thisArg))},t}(),Ze=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return $(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(J);function Ge(t,e){return"function"==typeof e?function(n){return n.pipe(Ge((function(n,r){return ue(t(n,r)).pipe(se((function(t,o){return e(n,t,r,o)})))})))}:function(e){return e.lift(new Ke(t))}}var Ke=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new Je(t,this.project))},t}(),Je=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return $(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var o=new Wt(this,e,n),i=this.destination;i.add(o),this.innerSubscription=Qt(this,t,void 0,void 0,o),this.innerSubscription!==o&&i.add(this.innerSubscription)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e}(Ut);var Qe=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new tn(t,this.total))},t}(),tn=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return $(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(J);function en(t,e,n,r,o){return rt.create((function(i){var u,c=requestAnimationFrame((function s(a){var f=a-(u=u||a);f<r?(i.next(t(f,e,n,r,o)),c=requestAnimationFrame(s)):(i.next(t(r,e,n,r,o)),c=requestAnimationFrame((function(){return i.complete()})))}));return function(){c&&cancelAnimationFrame(c)}}))}function nn(t,e,n,r){return n*Math.sin(t/r*(Math.PI/2))+e}function rn(t){return an(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||cn(t)||un()}function on(t,e){return an(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||cn(t,e)||un()}function un(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function cn(t,e){if(t){if("string"==typeof t)return sn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sn(t,e):void 0}}function sn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function an(t){if(Array.isArray(t))return t}var fn=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e){return 0===n.length?e.pipe(Me(t),We((function(t){return on(t,2)[1]})),se((function(t){return on(t,1)[0]}))):e.pipe(Me.apply(void 0,[t].concat(n)),We((function(t){return rn(t).slice(1).every((function(t){return t}))})),se((function(t){return on(t,1)[0]})))}};function ln(t){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return hn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hn(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dn(t,e){return(dn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wn(t);if(e){var o=wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mn(this,n)}}function mn(t,e){return!e||"object"!==ln(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wn(t){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gn=Math.min.bind(Math),_n=Math.max.bind(Math),Sn=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dn(t,e)}(i,t);var e,n,r,o=vn(i);function i(){return yn(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"calcIsInRange",value:function(t,e){switch(this.align){case"left":var n=this.range[0],r=this.range[1];return t>n&&(e||t<r);case"right":var o=window.innerWidth-this.range[0],i=window.innerWidth-this.range[1];return t<o&&(e||t>i);default:throw Error()}}},{key:"calcIsSwipe",value:function(t){var e=pn(t,4),n=e[0].clientX,r=e[1].clientX,o=e[2],i=e[3];return n!==r||o>0&&o<i}},{key:"calcWillOpen",value:function(t){var e=pn(t,5),n=e[2],r=e[3],o=e[4];switch(this.align){case"left":return o>.15||!(o<-.15)&&n>=r/2;case"right":return-o>.15||!(-o<-.15)&&n<=-r/2;default:throw Error()}}},{key:"calcTranslateX",value:function(t,e,n,r){switch(this.align){case"left":return _n(0,gn(r,n+(t-e)));case"right":return gn(0,_n(-r,n+(t-e)));default:throw Error()}}}])&&bn(e.prototype,n),r&&bn(e,r),i}(t)};function On(t){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function En(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xn(t,e){return(xn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cn(t);if(e){var o=Cn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tn(this,n)}}function Tn(t,e){return!e||"object"!==On(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Cn(t){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var In="attributeStyleMap"in Element.prototype&&"CSS"in window&&CSS.number,kn=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xn(t,e)}(i,t);var e,n,r,o=Pn(i);function i(){return En(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"histId",value:function(){return this.el.id||this.constructor.componentName}},{key:"prepareInteraction",value:function(){In?(this.contentEl.attributeStyleMap.set("will-change","transform"),this.scrimEl.attributeStyleMap.set("will-change","opacity")):(this.contentEl.style.willChange="transform",this.scrimEl.style.willChange="opacity"),this.fireEvent("prepare")}},{key:"cleanupInteraction",value:function(t){In?(this.contentEl.attributeStyleMap.delete("will-change"),this.scrimEl.attributeStyleMap.delete("will-change"),t?this.scrimEl.attributeStyleMap.set("pointer-events",new CSSKeywordValue("all")):this.scrimEl.attributeStyleMap.delete("pointer-events")):(this.scrimEl.style.willChange="",this.contentEl.style.willChange="",this.scrimEl.style.pointerEvents=t?"all":""),this.fireEvent("transitioned",{detail:t})}},{key:"updateDOM",value:function(t,e){this.translateX=t;var n="left"===this.align?1:-1,r=this.opacity=t/e*n;this.moveCallback&&this.moveCallback({translateX:t,opacity:r}),In?(this.contentEl.attributeStyleMap.set("transform",new CSSTransformValue([new CSSTranslate(CSS.px(t),CSS.px(0))])),this.scrimEl.attributeStyleMap.set("opacity",this.opacity)):(this.contentEl.style.transform="translateX(".concat(t,"px)"),this.scrimEl.style.opacity=this.opacity)}}])&&jn(e.prototype,n),r&&jn(e,r),i}(t)};function An(t){return function(e){return e.lift(new Rn(t))}}var Rn=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new Nn(t,this.value))},t}(),Nn=function(t){function e(e,n){var r=t.call(this,e)||this;return r.value=n,r}return $(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(J),Mn=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();var Dn=function(){function t(t){if(this.total=t,this.total<0)throw new Mn}return t.prototype.call=function(t,e){return e.subscribe(new $n(t,this.total))},t}(),$n=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return $(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(J);var Vn=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new Ln(t,this.notifier,e))},t}(),Ln=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.notifier=n,o.source=r,o.sourceIsBeingSubscribedTo=!0,o}return $(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},e.prototype.subscribeToRetries=function(){var e;this.notifications=new st;try{e=(0,this.notifier)(this.notifications)}catch(e){return t.prototype.complete.call(this)}this.retries=e,this.retriesSubscription=Qt(this,e)},e}(Ut);var Xn=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new Yn(t,this.predicate))},t}(),Yn=function(t){function e(e,n){var r=t.call(this,e)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return $(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(J);function Fn(t){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Hn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hn(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Un(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wn(t,e){return(Wn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Gn(t);if(e){var o=Gn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zn(this,n)}}function Zn(t,e){return!e||"object"!==Fn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Gn(t){return(Gn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Kn=Math.abs.bind(Math),Jn=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wn(t,e)}(i,t);var e,n,r,o=Bn(i);function i(){return zn(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getStartObservable",value:function(){return ee(this.subjects.document,this.subjects.touchEvents,this.subjects.mouseEvents).pipe(Ge((function(t){var e=qn(t,3),n=e[0],r=e[1],o=e[2];return ye(r?ve(n,"touchstart",{passive:!0}).pipe(We((function(t){return 1===t.touches.length})),se((function(t){return t.touches[0]}))):we,o?ve(n,"mousedown").pipe(Ve((function(t){return t.event=t,t}))):we)})))}},{key:"getMoveObservable",value:function(t,e){return ee(this.subjects.document,this.subjects.touchEvents,this.subjects.mouseEvents,this.subjects.preventDefault).pipe(Ge((function(n){var r,o=qn(n,4),i=o[0],u=o[1],c=o[2],s=o[3],a=u?ve(i,"touchmove",{passive:!s}).pipe(se((function(t){return t.touches[0].event=t,t.touches[0]}))):we,f=c?ve(i,"mousemove",{passive:!s}).pipe((r=ye(t.pipe(An(!0)),e.pipe(An(!1))),function(t){return r.pipe(Ge((function(e){return e?t:we})))}),Ve((function(t){return t.event=t,t}))):we;return ye(a,f)})))}},{key:"getEndObservable",value:function(){return ee(this.subjects.document,this.subjects.touchEvents,this.subjects.mouseEvents).pipe(Ge((function(t){var e=qn(t,3),n=e[0],r=e[1],o=e[2];return ye(r?ve(n,"touchend",{passive:!0}).pipe(We((function(t){return 0===t.touches.length})),se((function(t){return t.changedTouches[0]}))):we,o?ve(n,"mouseup",{passive:!0}):we)})))}},{key:"getIsSlidingObservable",value:function(t,e,n){return this.getIsSlidingObservable2(t,e).pipe((o=1,function(t){return 0===o?dt():t.lift(new Dn(o))}),Se(void 0),(r=function(){return n},function(t){return t.lift(new Vn(r))}));var r,o}},{key:"getIsSlidingObservable2",value:function(t,e){var n,r=this;return this.threshold?t.pipe(Me(e),(n=function(t){var e=qn(t,2),n=e[0],o=n.clientX,i=n.clientY,u=e[1],c=u.clientX,s=u.clientY;return Kn(s-i)<r.threshold&&Kn(c-o)<r.threshold},function(t){return t.lift(new Xn(n))}),se((function(t){var e=qn(t,2),n=e[0],r=n.clientX,o=n.clientY,i=e[1],u=i.clientX,c=i.clientY;return Kn(u-r)>=Kn(c-o)}))):t.pipe(Me(e),se((function(t){var e=qn(t,2),n=e[0],o=n.clientX,i=n.clientY,u=n.event,c=e[1],s=c.clientX,a=c.clientY,f=Kn(s-o)>=Kn(a-i);return r.preventDefault&&f&&u.preventDefault(),f})))}}])&&Un(e.prototype,n),r&&Un(e,r),i}(t)};function Qn(t){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return er(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return er(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function or(t,e){return(or=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ir(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=cr(t);if(e){var o=cr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ur(this,n)}}function ur(t,e){return!e||"object"!==Qn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cr(t){return(cr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var sr=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&or(t,e)}(i,t);var e,n,r,o=ir(i);function i(){return nr(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"setupObservables",value:function(){var t,e=this,n={contentRect:this.contentEl.getBoundingClientRect()},r=("ResizeObserver"in window?(t=ResizeObserver,function(e,n,r){return rt.create((function(o){var i=o.next.bind(o),u=new t((function(t){return Array.from(t).forEach(i)}),n);return u.observe(e,r),function(){u.unobserve(e)}}))})(this.contentEl).pipe(Se(n)):St(n)).pipe(Oe(this.subjects.disconnect),se((function(t){return t.contentRect.width})),Ne(),Se(n.contentRect.width));this._peek$&&(r=ee(r,this._peek$).pipe(se((function(t){var e=tr(t,2);return e[0]-e[1]}))));var o,i=this.subjects.persistent.pipe(se((function(t){return!t}))),u=this.getStartObservable().pipe(Oe(this.subjects.disconnect),fn(i),Ne()),c=ce((function(){return e.translateX$.pipe(se((function(t){return 0!=t})))})),s=u.pipe(Me(c),se((function(t){var n=tr(t,2),r=n[0].clientX,o=n[1];return e.calcIsInRange(r,o)})),Ve((function(t){t&&(e.mouseEvents&&e.contentEl.classList.add("hy-drawer-grabbing"),e.prepareInteraction())})),Ne()),a=this.getEndObservable().pipe(Oe(this.subjects.disconnect),fn(i,s),Ne()),f=this.getMoveObservable(u,a).pipe(Oe(this.subjects.disconnect),fn(i,s),Ne()),l=this.getIsSlidingObservable(f,u,a).pipe(Ve((function(t){t&&e.fireEvent("slidestart",{detail:e.opened})})));this.translateX$=ce((function(){return ye(e.tween$,f.pipe(fn(l),Ve((function(t){var n=t.event;return e.preventDefault&&n.preventDefault()})),Me(u,e.startTranslateX$,r),(t=de,void 0===n&&(n=0),function(e){return e.lift(new jt(t,n))}),se((function(t){var n=tr(t,4),r=n[0].clientX,o=n[1].clientX,i=n[2],u=n[3];return e.calcTranslateX(r,o,i,u)}))),ee(e.subjects.opened,e.subjects.align,r).pipe(Ve((function(t){var n=tr(t,1)[0];return e.cleanupInteraction(n)})),se((function(t){var e=tr(t,3),n=e[0],r=e[1],o=e[2];return n?o*("left"===r?1:-1):0}))));var t,n})).pipe(Oe(this.subjects.disconnect),Ne()),this.startTranslateX$=this.translateX$.pipe((o=u,function(t){return t.lift(new Ye(o))}));var p,h=this.translateX$.pipe((void 0===p&&(p=qe),se((function(t){return new He(t,p.now())}))),(function(t){return t.lift(new ze)}),We((function(t){var e=tr(t,2),n=e[0].timestamp;return e[1].timestamp-n>0})),se((function(t){var e=tr(t,2),n=e[0],r=n.value,o=n.timestamp,i=e[1];return(i.value-r)/(i.timestamp-o)})),Se(0)),y=ye(a.pipe(Ve((function(){return e.contentEl.classList.remove("hy-drawer-grabbing")})),Me(u,this.translateX$,r,h),We(this.calcIsSwipe.bind(this)),se(this.calcWillOpen.bind(this)),Ve((function(t){return e.fireEvent("slideend",{detail:t})}))),this.animateTo$.pipe(Ve(this.prepareInteraction.bind(this))));this.tween$=y.pipe(Ve((function(t){return e.setInternalState("opened",t)})),Me(this.translateX$,r),Ge((function(t){var n,r=tr(t,3),o=r[0],i=r[1],c=r[2],s="left"===e.align?1:-1;return en(nn,i,(o?c*s:0)-i,200+.15*c).pipe(Ve({complete:function(){return e.subjects.opened.next(o)}}),Oe(u),Oe(e.subjects.align.pipe((n=1,function(t){return t.lift(new Qe(n))}))),Ne())}))),this.translateX$.pipe(Me(r)).subscribe((function(t){var n=tr(t,2),r=n[0],o=n[1];return e.updateDOM(r,o)})),ve(this.scrimEl,"click").pipe(Oe(this.subjects.disconnect)).subscribe((function(){return e.close()})),i.pipe(Oe(this.subjects.disconnect)).subscribe((function(t){e.scrimEl.style.display=t?"block":"none"})),this.subjects.align.pipe(Oe(this.subjects.disconnect)).subscribe((function(t){e.contentEl.classList.remove("hy-drawer-left"),e.contentEl.classList.remove("hy-drawer-right"),e.contentEl.classList.add("hy-drawer-".concat(t))})),this.subjects.mouseEvents.pipe(Oe(this.subjects.disconnect),Ge((function(t){return t?e.contentEl.classList.add("hy-drawer-grab"):e.contentEl.classList.remove("hy-drawer-grab"),t?u.pipe(Me(s)):we}))).subscribe((function(t){var e=tr(t,2),n=e[0].event;return e[1]&&n&&n.preventDefault()})),this.fireEvent("init",{detail:this.opened})}}])&&rr(e.prototype,n),r&&rr(e,r),i}(Jn(kn(Sn(t))))};function ar(t){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pr(t,e,n){return(pr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=dr(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function hr(t,e){return(hr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=dr(t);if(e){var o=dr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return br(this,n)}}function br(t,e){return!e||"object"!==ar(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dr(t){return(dr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}new r([].concat(function(t){return function(t){if(Array.isArray(t))return vr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return vr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vr(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(d),["eventlistener","queryselector","requestanimationframe","classlist","opacity","csstransforms","csspointerevents"]));var mr=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hr(t,e)}(i,t);var e,n,r,o=yr(i);function i(){return fr(this,i),o.apply(this,arguments)}return e=i,r=[{key:"componentName",get:function(){return"hy-drawer"}},{key:"types",get:function(){return{opened:Yt,align:qt(["left","right"]),persistent:Yt,range:Xt(Ft),threshold:Ft,preventDefault:Yt,touchEvents:Yt,mouseEvents:Yt}}},{key:"defaults",get:function(){return{opened:!1,align:"left",persistent:!1,range:[0,100],threshold:10,preventDefault:!1,touchEvents:!1,mouseEvents:!1}}}],(n=[{key:"setupComponent",value:function(t,e){pr(dr(i.prototype),"setupComponent",this).call(this,t,e),this.animateTo$=new st,this.scrimEl=this.sroot.querySelector(".hy-drawer-scrim"),this.contentEl=this.sroot.querySelector(".hy-drawer-content"),this.contentEl.classList.add("hy-drawer-".concat(this.align))}},{key:"connectComponent",value:function(){this.setupObservables(),pr(dr(i.prototype),"connectComponent",this).call(this)}},{key:"open",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?this.animateTo$.next(!0):this.opened=!0}},{key:"close",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?this.animateTo$.next(!1):this.opened=!1}},{key:"toggle",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?this.animateTo$.next(!this.opened):this.opened=!this.opened}}])&&lr(e.prototype,n),r&&lr(e,r),i}(sr(Vt(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;return function(t){f(n,t);var e=p(n);function n(){return b(this,n),e.apply(this,arguments)}return a(n,[{key:"setupComponent",value:function(t,e){var n=this.constructor.defaults;this[w]=Object.assign({},n,e),this.setupProperties(this),this[m]=this.setupShadowDOM(t)}},{key:"setupShadowDOM",value:function(t){return t}},{key:"connectComponent",value:function(){}},{key:"disconnectComponent",value:function(){}},{key:"adoptComponent",value:function(){}},{key:"getRoot",value:function(){return this[m]}},{key:"getEl",value:function(){return this[m]}},{key:"fireEvent",value:function(t,e){var n=this.constructor.componentName,r=new CustomEvent("".concat(n,"-").concat(t),e);this.el.dispatchEvent(r)}},{key:"setInternalState",value:function(t,e){this[w][t]=e}},{key:"setupProperties",value:function(){var t=this,e=this.constructor.sideEffects;Object.keys(this[w]).forEach((function(n){var r=e[n];t.setupProperty(n,r)}))}},{key:"setupProperty",value:function(t,e){var n=this;Object.defineProperty(this,t,{get:function(){return n[w][t]},set:function(r){var o=n[w][t];n.setInternalState(t,r),e&&e.call(n,r,o)},enumerable:!0,configurable:!0})}},{key:"sroot",get:function(){return this.getRoot()}},{key:"el",get:function(){return this.getEl()}}]),n}(t)}(t))))};function wr(t){return(wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sr(t,e){return(Sr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Or(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=jr(t);if(e){var o=jr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Er(this,n)}}function Er(t,e){return!e||"object"!==wr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function jr(t){return(jr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xr=function(){customElements.define("hy-drawer",function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sr(t,e)}(i,t);var e,n,r,o=Or(i);function i(){return gr(this,i),o.apply(this,arguments)}return e=i,r=[{key:"observedAttributes",get:function(){return this.getObservedAttributes()}}],(n=null)&&_r(e.prototype,n),r&&_r(e,r),i}(N(mr(M))))};"customElements"in window&&"attachShadow"in Element.prototype||window.WebComponents&&window.WebComponents.ready?xr():window.WebComponents&&window.addEventListener("WebComponentsReady",xr)}})}));
//# sourceMappingURL=html-import.js.map