/*!
 * Copyright (c) 2018 Florian Klampfer <https://qwtel.com/>
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 * 
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jQuery")):"function"==typeof define&&define.amd?define("hyDrawer",["jQuery"],e):"object"==typeof exports?exports.hyDrawer=e(require("jQuery")):t.hyDrawer=e(t.jQuery)}(window,(function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(e,n){e.exports=t},,,function(t,e,n){"use strict";n.r(e),n.d(e,"JQUERY_FEATURE_TESTS",(function(){return Sr})),n.d(e,"Set",(function(){return i}));var r=n(0),o=n.n(r),i="undefined"!=typeof Set&&1===new Set([1]).size?Set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(t=t.filter((function(e,n){return n===t.indexOf(e)}))).size=t.length,t.has=function(e){return t.indexOf(e)>-1},t.add=function(e){return t.has(e)||(t.size++,t.push(e)),t},t.delete=function(e){var n;return(n=t.has(e))&&(t.size--,t.splice(t.indexOf(e),1)),n},t.clear=function(){for(;t.pop(););t.size=0},t};function u(t,e){return t?t(e):e}function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setupComponent(e,n),this.connectComponent()};function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,n){return e&&v(t.prototype,e),n&&v(t,n),t}function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=O(t);if(e){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var j=new i(["customevent"]),x=Symbol||function(t){return"_".concat(t)},P=x("sroot"),T=x("state");window.process=window.process||{},window.process.env=window.process.env||{},window.requestIdleCallback=window.requestIdleCallback||function(t){return window.setTimeout(t,0)},window.cancelIdleCallback=window.cancelIdleCallback||window.clearTimeout;var I=function t(){E(this,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var C=function(t,e){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function R(t,e){function n(){this.constructor=t}C(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function k(t){return"function"==typeof t}var A=!1,N={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;A=t},get useDeprecatedSynchronousErrorHandling(){return A}};function D(t){setTimeout((function(){throw t}),0)}var M={closed:!0,next:function(t){},error:function(t){if(N.useDeprecatedSynchronousErrorHandling)throw t;D(t)},complete:function(){}},V=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t){return null!==t&&"object"===$(t)}var Y=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}();function F(t){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var q=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var i=0;i<n.length;++i){n[i].remove(this)}if(k(r))try{r.call(this)}catch(t){e=t instanceof Y?L(t.errors):[t]}if(V(o)){i=-1;for(var u=o.length;++i<u;){var c=o[i];if(X(c))try{c.unsubscribe()}catch(t){e=e||[],t instanceof Y?e=e.concat(L(t.errors)):e.push(t)}}}if(e)throw new Y(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(F(e)){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof t){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function L(t){return t.reduce((function(t,e){return t.concat(e instanceof Y?e.errors:e)}),[])}var U=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var z=function(t){function e(n,r,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=M;break;case 1:if(!n){i.destination=M;break}if("object"===H(n)){n instanceof e?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new W(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new W(i,n,r,o)}return i}return R(e,t),e.prototype[U]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(q),W=function(t){function e(e,n,r,o){var i,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return k(n)?i=n:n&&(i=n.next,r=n.error,o=n.complete,n!==M&&(k((c=Object.create(n)).unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=i,u._error=r,u._complete=o,u}return R(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;N.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=N.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):D(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;D(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};N.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),N.useDeprecatedSynchronousErrorHandling)throw t;D(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!N.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return N.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(D(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(z);var B=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function Q(t){return t}function G(t){return 0===t.length?Q:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var J=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=function(t,e,n){if(t){if(t instanceof z)return t;if(t[U])return t[U]()}return t||e||n?new z(t,e,n):new z(M)}(t,e,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||N.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),N.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){N.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof z?r:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=K(e))((function(e,r){var o;o=n.subscribe((function(e){try{t(e)}catch(t){r(t),o&&o.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[B]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:G(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=K(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function K(t){if(t||(t=N.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var Z=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),tt=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return R(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(q),et=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return R(e,t),e}(z),nt=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return R(e,t),e.prototype[U]=function(){return new et(this)},e.prototype.lift=function(t){var e=new rt(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new Z;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new Z;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Z;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new Z;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new Z;return this.hasError?(t.error(this.thrownError),q.EMPTY):this.isStopped?(t.complete(),q.EMPTY):(this.observers.push(t),new tt(this,t))},e.prototype.asObservable=function(){var t=new J;return t.source=this,t},e.create=function(t,e){return new rt(t,e)},e}(J),rt=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return R(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):q.EMPTY},e}(nt),ot=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return R(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return R(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(q)),it=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return R(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(ot),ut=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),ct=function(t){function e(n,r){void 0===r&&(r=ut.now);var o=t.call(this,n,(function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return R(e,t),e.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,o):t.prototype.schedule.call(this,n,r,o)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(ut),st=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R(e,t),e}(ct))(it),at=new J((function(t){return t.complete()}));function ft(t){return t?function(t){return new J((function(e){return t.schedule((function(){return e.complete()}))}))}(t):at}function lt(t){return t&&"function"==typeof t.schedule}var pt,ht=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function yt(t,e){return new J((function(n){var r=new q,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function bt(t,e){return e?yt(t,e):new J(ht(t))}function dt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return lt(n)?(t.pop(),yt(t,n)):bt(t)}function vt(t){var e=t.error;t.subscriber.error(e)}pt||(pt={});var mt=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){var t,e;switch(this.kind){case"N":return dt(this.value);case"E":return t=this.error,new J(e?function(n){return e.schedule(vt,0,{error:t,subscriber:n})}:function(e){return e.error(t)});case"C":return ft()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();var wt=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new gt(t,this.scheduler,this.delay))},t}(),gt=function(t){function e(e,n,r){void 0===r&&(r=0);var o=t.call(this,e)||this;return o.scheduler=n,o.delay=r,o}return R(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new _t(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(mt.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(mt.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(mt.createComplete()),this.unsubscribe()},e}(z),_t=function(){return function(t,e){this.notification=t,this.destination=e}}(),St=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var o=t.call(this)||this;return o.scheduler=r,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=e<1?1:e,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return R(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new Ot(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=r.length;if(this.closed)throw new Z;if(this.isStopped||this.hasError?e=q.EMPTY:(this.observers.push(t),e=new tt(this,t)),o&&t.add(t=new gt(t,o)),n)for(var u=0;u<i&&!t.closed;u++)t.next(r[u]);else for(u=0;u<i&&!t.closed;u++)t.next(r[u].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||st).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(t-r[i].time<n);)i++;return o>e&&(i=Math.max(i,o-e)),i>0&&r.splice(0,i),r},e}(nt),Ot=function(){return function(t,e){this.time=t,this.value=e}}();function Et(t){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pt(t,e,n){return(Pt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Rt(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function Tt(t,e){return(Tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function It(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Rt(t);if(e){var o=Rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ct(this,n)}}function Ct(t,e){return!e||"object"!==Et(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Rt(t){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var kt=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tt(t,e)}(i,t);var e,n,r,o=It(i);function i(){return jt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"setupComponent",value:function(t,e){var n=this,r={};this.subjects={},this.subjects.disconnect=new nt,this.subjects.document=new St,Object.keys(this.constructor.types).map((function(t){n.subjects[t]=new St(1),r[t]=function(e){return n.subjects[t].next(e)}})),Object.defineProperty(this.constructor,"sideEffects",{get:function(){return r},set:function(){},enumerable:!0,configurable:!0}),Pt(Rt(i.prototype),"setupComponent",this).call(this,t,e)}},{key:"connectComponent",value:function(){var t=this;Pt(Rt(i.prototype),"connectComponent",this).call(this),this.subjects.document.next(document),Object.keys(this.constructor.types).map((function(e){return t.subjects[e].next(t[e])}))}},{key:"disconnectComponent",value:function(){Pt(Rt(i.prototype),"disconnectComponent",this).call(this),this.subjects.disconnect.next({})}},{key:"adaptComponent",value:function(){Pt(Rt(i.prototype),"adaptComponent",this).call(this),this.subjects.document.next(document)}}])&&xt(e.prototype,n),r&&xt(e,r),i}(t)},At=function(t){return null==t?null:t.trim().replace(/^\[?(.*?)\]?$/,"$1").split(",").map((function(t){return t.trim()}))||null};At.stringify=function(t){return t&&t.length>0?t.join(","):null};var Nt=function(t){var e=function(e){if(null==e)return null;var n=At(e).map(t);return n.reduce((function(t,e){return t&&null!==e}),!0)?n:null};return e.stringify=function(e){var n=e&&e.map&&e.map(t.stringify);return n&&n.reduce((function(t,e){return t&&null!==e}),!0)?At.stringify(n):null},e},Dt=function(t){if(null==t)return!1;var e=t.trim&&t.trim()||t;return!("false"===e||"null"===e||"undefined"===e||"0"===e||!1===e)};Dt.stringify=function(t){return t?"":null};var Mt=function(t){return null==t?null:Number(t)};Mt.stringify=function(t){return null==t?null:"".concat(t)};var Vt=function(t){var e=function(e){if(null==e)return null;var n=t.indexOf(e);return n>-1?t[n]:null};return e.stringify=function(e){return-1!==t.indexOf(e)?e:null},e},$t=function(t){if(null==t)return null;var e=(t.trim&&t.trim()||t).match(/^\/?(.*?)(\/([gimy]*))?$/);return new RegExp(e[1],e[3])};$t.stringify=function(t){return t&&t.toString()||null};var Xt=function(t){return t};Xt.stringify=function(t){return t};var Yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(z),Ft=function(t){function e(e,n,r){var o=t.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=r,o.index=0,o}return R(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(z);function qt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Lt=qt(),Ut=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Ht(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var zt=function(t){if(t&&"function"==typeof t[B])return r=t,function(t){var e=r[B]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Ut(t))return ht(t);if(Ht(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,D),t};if(t&&"function"==typeof t[Lt])return e=t,function(t){for(var n=e[Lt]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,o=X(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+o+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Wt(t,e,n,r,o){if(void 0===o&&(o=new Ft(t,n,r)),!o.closed)return e instanceof J?e.subscribe(o):zt(e)(o)}var Bt={};function Qt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return lt(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&V(t[0])&&(t=t[0]),bt(t,r).lift(new Gt(n))}var Gt=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Jt(t,this.resultSelector))},t}(),Jt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return R(e,t),e.prototype._next=function(t){this.values.push(Bt),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Wt(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){var i=this.values,u=i[n],c=this.toRespond?u===Bt?--this.toRespond:this.toRespond:0;i[n]=e,0===c&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Yt);function Kt(t){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zt(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[B]}(t))return function(t,e){return new J((function(n){var r=new q;return r.add(e.schedule((function(){var o=t[B]();r.add(o.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Ht(t))return function(t,e){return new J((function(n){var r=new q;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Ut(t))return yt(t,e);if(function(t){return t&&"function"==typeof t[Lt]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new J((function(n){var r,o=new q;return o.add((function(){r&&"function"==typeof r.return&&r.return()})),o.add(e.schedule((function(){r=t[Lt](),o.add(e.schedule((function(){if(!n.closed){var t,e;try{var o=r.next();t=o.value,e=o.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}})))}))),o}))}(t,e)}throw new TypeError((null!==t&&Kt(t)||t)+" is not observable")}function te(t,e){return e?Zt(t,e):t instanceof J?t:new J(zt(t))}function ee(t){return new J((function(e){var n;try{n=t()}catch(t){return void e.error(t)}return(n?te(n):ft()).subscribe(e)}))}function ne(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new re(t,e))}}var re=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new oe(t,this.project,this.thisArg))},t}(),oe=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return R(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(z);var ie=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new ue(t,this.project,this.concurrent))},t}(),ue=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=t.call(this,e)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return R(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new Ft(this,e,n),o=this.destination;o.add(r);var i=Wt(this,t,void 0,void 0,r);i!==r&&o.add(i)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(Yt);function ce(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),function t(e,n,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof n?function(o){return o.pipe(t((function(t,r){return te(e(t,r)).pipe(ne((function(e,o){return n(t,e,r,o)})))}),r))}:("number"==typeof n&&(r=n),function(t){return t.lift(new ie(e,r))})}(Q,t)}function se(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,o=t[t.length-1];return lt(o)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof o&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof J?t[0]:ce(n)(bt(t,r))}var ae=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return R(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(ot),fe=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,o=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<o&&(t=n.shift()));if(this.active=!1,e){for(;++r<o&&(t=n.shift());)t.unsubscribe();throw e}},e}(ct))(ae);function le(t,e,n,r){return k(n)&&(r=n,n=void 0),r?le(t,e,n).pipe(ne((function(t){return V(t)?r.apply(void 0,t):r(t)}))):new J((function(r){!function t(e,n,r,o,i){var u;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var c=e;e.addEventListener(n,r,i),u=function(){return c.removeEventListener(n,r,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var s=e;e.on(n,r),u=function(){return s.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var a=e;e.addListener(n,r),u=function(){return a.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var f=0,l=e.length;f<l;f++)t(e[f],n,r,o,i)}o.add(u)}(t,e,(function(t){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(t)}),r,n)}))}function pe(){}var he=new J(pe);function ye(){return ce(1)}function be(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ye()(dt.apply(void 0,t))}function de(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return lt(n)?(t.pop(),function(e){return be(t,e,n)}):function(e){return be(t,e)}}function ve(t){return function(e){return e.lift(new me(t))}}var me=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new we(t),r=Wt(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n},t}(),we=function(t){function e(e){var n=t.call(this,e)||this;return n.seenValue=!1,n}return R(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(Yt);function ge(){return function(t){return t.lift(new _e(t))}}var _e=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new Se(t,n),o=e.subscribe(r);return r.closed||(r.connection=n.connect()),o},t}(),Se=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return R(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(z),Oe=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return R(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new q).add(this.source.subscribe(new je(this.getSubject(),this))),t.closed&&(this._connection=null,t=q.EMPTY)),t},e.prototype.refCount=function(){return ge()(this)},e}(J),Ee=function(){var t=Oe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),je=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return R(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(et);var xe=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),o=n(r).subscribe(t);return o.add(e.subscribe(r)),o},t}();function Pe(){return new nt}function Te(){return function(t){return ge()((e=Pe,function(t){var r;if(r="function"==typeof e?e:function(){return e},"function"==typeof n)return t.lift(new xe(r,n));var o=Object.create(t,Ee);return o.source=t,o.subjectFactory=r,o})(t));var e,n}}function Ie(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n;"function"==typeof t[t.length-1]&&(n=t.pop());var r=t;return e.lift(new Ce(r,n))}}var Ce=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new Re(t,this.observables,this.project))},t}(),Re=function(t){function e(e,n,r){var o=t.call(this,e)||this;o.observables=n,o.project=r,o.toRespond=[];var i=n.length;o.values=new Array(i);for(var u=0;u<i;u++)o.toRespond.push(u);for(u=0;u<i;u++){var c=n[u];o.add(Wt(o,c,c,u))}return o}return R(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.values[n]=e;var i=this.toRespond;if(i.length>0){var u=i.indexOf(n);-1!==u&&i.splice(u,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Yt);function ke(t,e,n){return function(r){return r.lift(new Ae(t,e,n))}}var Ae=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new Ne(t,this.nextOrObserver,this.error,this.complete))},t}(),Ne=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i._tapNext=pe,i._tapError=pe,i._tapComplete=pe,i._tapError=r||pe,i._tapComplete=o||pe,k(n)?(i._context=i,i._tapNext=n):n&&(i._context=n,i._tapNext=n.next||pe,i._tapError=n.error||pe,i._tapComplete=n.complete||pe),i}return R(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(z);var De=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new Me(t),r=e.subscribe(n);return r.add(Wt(n,this.notifier)),r},t}(),Me=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasValue=!1,e}return R(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,n,r,o){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(Yt),Ve=new ct(ot);var $e=function(){return function(t,e){this.value=t,this.timestamp=e}}();var Xe=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Ye(t))},t}(),Ye=function(t){function e(e){var n=t.call(this,e)||this;return n.hasPrev=!1,n}return R(e,t),e.prototype._next=function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)},e}(z);function Fe(t,e){return function(n){return n.lift(new qe(t,e))}}var qe=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Le(t,this.predicate,this.thisArg))},t}(),Le=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return R(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(z);function Ue(t,e){return"function"==typeof e?function(n){return n.pipe(Ue((function(n,r){return te(t(n,r)).pipe(ne((function(t,o){return e(n,t,r,o)})))})))}:function(e){return e.lift(new He(t))}}var He=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new ze(t,this.project))},t}(),ze=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return R(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var o=new Ft(this,e,n),i=this.destination;i.add(o),this.innerSubscription=Wt(this,t,void 0,void 0,o),this.innerSubscription!==o&&i.add(this.innerSubscription)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e}(Yt);var We=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new Be(t,this.total))},t}(),Be=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return R(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(z);function Qe(t,e,n,r,o){return J.create((function(i){var u,c=requestAnimationFrame((function s(a){var f=a-(u=u||a);f<r?(i.next(t(f,e,n,r,o)),c=requestAnimationFrame(s)):(i.next(t(r,e,n,r,o)),c=requestAnimationFrame((function(){return i.complete()})))}));return function(){c&&cancelAnimationFrame(c)}}))}function Ge(t,e,n,r){return n*Math.sin(t/r*(Math.PI/2))+e}function Je(t){return nn(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||tn(t)||Ze()}function Ke(t,e){return nn(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||tn(t,e)||Ze()}function Ze(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function tn(t,e){if(t){if("string"==typeof t)return en(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(t,e):void 0}}function en(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nn(t){if(Array.isArray(t))return t}var rn=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e){return 0===n.length?e.pipe(Ie(t),Fe((function(t){return Ke(t,2)[1]})),ne((function(t){return Ke(t,1)[0]}))):e.pipe(Ie.apply(void 0,[t].concat(n)),Fe((function(t){return Je(t).slice(1).every((function(t){return t}))})),ne((function(t){return Ke(t,1)[0]})))}};function on(t){return(on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function un(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return cn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cn(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function an(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fn(t,e){return(fn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ln(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hn(t);if(e){var o=hn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn(this,n)}}function pn(t,e){return!e||"object"!==on(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function hn(t){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var yn=Math.min.bind(Math),bn=Math.max.bind(Math),dn=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&fn(t,e)}(i,t);var e,n,r,o=ln(i);function i(){return sn(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"calcIsInRange",value:function(t,e){switch(this.align){case"left":var n=this.range[0],r=this.range[1];return t>n&&(e||t<r);case"right":var o=window.innerWidth-this.range[0],i=window.innerWidth-this.range[1];return t<o&&(e||t>i);default:throw Error()}}},{key:"calcIsSwipe",value:function(t){var e=un(t,4),n=e[0].clientX,r=e[1].clientX,o=e[2],i=e[3];return n!==r||o>0&&o<i}},{key:"calcWillOpen",value:function(t){var e=un(t,5),n=e[2],r=e[3],o=e[4];switch(this.align){case"left":return o>.15||!(o<-.15)&&n>=r/2;case"right":return-o>.15||!(-o<-.15)&&n<=-r/2;default:throw Error()}}},{key:"calcTranslateX",value:function(t,e,n,r){switch(this.align){case"left":return bn(0,yn(r,n+(t-e)));case"right":return yn(0,bn(-r,n+(t-e)));default:throw Error()}}}])&&an(e.prototype,n),r&&an(e,r),i}(t)};function vn(t){return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gn(t,e){return(gn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=On(t);if(e){var o=On(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sn(this,n)}}function Sn(t,e){return!e||"object"!==vn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function On(t){return(On=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var En="attributeStyleMap"in Element.prototype&&"CSS"in window&&CSS.number,jn=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gn(t,e)}(i,t);var e,n,r,o=_n(i);function i(){return mn(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"histId",value:function(){return this.el.id||this.constructor.componentName}},{key:"prepareInteraction",value:function(){En?(this.contentEl.attributeStyleMap.set("will-change","transform"),this.scrimEl.attributeStyleMap.set("will-change","opacity")):(this.contentEl.style.willChange="transform",this.scrimEl.style.willChange="opacity"),this.fireEvent("prepare")}},{key:"cleanupInteraction",value:function(t){En?(this.contentEl.attributeStyleMap.delete("will-change"),this.scrimEl.attributeStyleMap.delete("will-change"),t?this.scrimEl.attributeStyleMap.set("pointer-events",new CSSKeywordValue("all")):this.scrimEl.attributeStyleMap.delete("pointer-events")):(this.scrimEl.style.willChange="",this.contentEl.style.willChange="",this.scrimEl.style.pointerEvents=t?"all":""),this.fireEvent("transitioned",{detail:t})}},{key:"updateDOM",value:function(t,e){this.translateX=t;var n="left"===this.align?1:-1,r=this.opacity=t/e*n;this.moveCallback&&this.moveCallback({translateX:t,opacity:r}),En?(this.contentEl.attributeStyleMap.set("transform",new CSSTransformValue([new CSSTranslate(CSS.px(t),CSS.px(0))])),this.scrimEl.attributeStyleMap.set("opacity",this.opacity)):(this.contentEl.style.transform="translateX(".concat(t,"px)"),this.scrimEl.style.opacity=this.opacity)}}])&&wn(e.prototype,n),r&&wn(e,r),i}(t)};function xn(t){return function(e){return e.lift(new Pn(t))}}var Pn=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new Tn(t,this.value))},t}(),Tn=function(t){function e(e,n){var r=t.call(this,e)||this;return r.value=n,r}return R(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(z),In=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();var Cn=function(){function t(t){if(this.total=t,this.total<0)throw new In}return t.prototype.call=function(t,e){return e.subscribe(new Rn(t,this.total))},t}(),Rn=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return R(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(z);var kn=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new An(t,this.notifier,e))},t}(),An=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.notifier=n,o.source=r,o.sourceIsBeingSubscribedTo=!0,o}return R(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},e.prototype.subscribeToRetries=function(){var e;this.notifications=new nt;try{e=(0,this.notifier)(this.notifications)}catch(e){return t.prototype.complete.call(this)}this.retries=e,this.retriesSubscription=Wt(this,e)},e}(Yt);var Nn=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new Dn(t,this.predicate))},t}(),Dn=function(t){function e(e,n){var r=t.call(this,e)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return R(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(z);function Mn(t){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return $n(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $n(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fn(t,e){return(Fn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function qn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Un(t);if(e){var o=Un(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ln(this,n)}}function Ln(t,e){return!e||"object"!==Mn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Un(t){return(Un=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Hn=Math.abs.bind(Math),zn=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fn(t,e)}(i,t);var e,n,r,o=qn(i);function i(){return Xn(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getStartObservable",value:function(){return Qt(this.subjects.document,this.subjects.touchEvents,this.subjects.mouseEvents).pipe(Ue((function(t){var e=Vn(t,3),n=e[0],r=e[1],o=e[2];return se(r?le(n,"touchstart",{passive:!0}).pipe(Fe((function(t){return 1===t.touches.length})),ne((function(t){return t.touches[0]}))):he,o?le(n,"mousedown").pipe(ke((function(t){return t.event=t,t}))):he)})))}},{key:"getMoveObservable",value:function(t,e){return Qt(this.subjects.document,this.subjects.touchEvents,this.subjects.mouseEvents,this.subjects.preventDefault).pipe(Ue((function(n){var r,o=Vn(n,4),i=o[0],u=o[1],c=o[2],s=o[3],a=u?le(i,"touchmove",{passive:!s}).pipe(ne((function(t){return t.touches[0].event=t,t.touches[0]}))):he,f=c?le(i,"mousemove",{passive:!s}).pipe((r=se(t.pipe(xn(!0)),e.pipe(xn(!1))),function(t){return r.pipe(Ue((function(e){return e?t:he})))}),ke((function(t){return t.event=t,t}))):he;return se(a,f)})))}},{key:"getEndObservable",value:function(){return Qt(this.subjects.document,this.subjects.touchEvents,this.subjects.mouseEvents).pipe(Ue((function(t){var e=Vn(t,3),n=e[0],r=e[1],o=e[2];return se(r?le(n,"touchend",{passive:!0}).pipe(Fe((function(t){return 0===t.touches.length})),ne((function(t){return t.changedTouches[0]}))):he,o?le(n,"mouseup",{passive:!0}):he)})))}},{key:"getIsSlidingObservable",value:function(t,e,n){return this.getIsSlidingObservable2(t,e).pipe((o=1,function(t){return 0===o?ft():t.lift(new Cn(o))}),de(void 0),(r=function(){return n},function(t){return t.lift(new kn(r))}));var r,o}},{key:"getIsSlidingObservable2",value:function(t,e){var n,r=this;return this.threshold?t.pipe(Ie(e),(n=function(t){var e=Vn(t,2),n=e[0],o=n.clientX,i=n.clientY,u=e[1],c=u.clientX,s=u.clientY;return Hn(s-i)<r.threshold&&Hn(c-o)<r.threshold},function(t){return t.lift(new Nn(n))}),ne((function(t){var e=Vn(t,2),n=e[0],r=n.clientX,o=n.clientY,i=e[1],u=i.clientX,c=i.clientY;return Hn(u-r)>=Hn(c-o)}))):t.pipe(Ie(e),ne((function(t){var e=Vn(t,2),n=e[0],o=n.clientX,i=n.clientY,u=n.event,c=e[1],s=c.clientX,a=c.clientY,f=Hn(s-o)>=Hn(a-i);return r.preventDefault&&f&&u.preventDefault(),f})))}}])&&Yn(e.prototype,n),r&&Yn(e,r),i}(t)};function Wn(t){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Qn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qn(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kn(t,e){return(Kn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=er(t);if(e){var o=er(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tr(this,n)}}function tr(t,e){return!e||"object"!==Wn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function er(t){return(er=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nr=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kn(t,e)}(i,t);var e,n,r,o=Zn(i);function i(){return Gn(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"setupObservables",value:function(){var t,e=this,n={contentRect:this.contentEl.getBoundingClientRect()},r=("ResizeObserver"in window?(t=ResizeObserver,function(e,n,r){return J.create((function(o){var i=o.next.bind(o),u=new t((function(t){return Array.from(t).forEach(i)}),n);return u.observe(e,r),function(){u.unobserve(e)}}))})(this.contentEl).pipe(de(n)):dt(n)).pipe(ve(this.subjects.disconnect),ne((function(t){return t.contentRect.width})),Te(),de(n.contentRect.width));this._peek$&&(r=Qt(r,this._peek$).pipe(ne((function(t){var e=Bn(t,2);return e[0]-e[1]}))));var o,i=this.subjects.persistent.pipe(ne((function(t){return!t}))),u=this.getStartObservable().pipe(ve(this.subjects.disconnect),rn(i),Te()),c=ee((function(){return e.translateX$.pipe(ne((function(t){return 0!=t})))})),s=u.pipe(Ie(c),ne((function(t){var n=Bn(t,2),r=n[0].clientX,o=n[1];return e.calcIsInRange(r,o)})),ke((function(t){t&&(e.mouseEvents&&e.contentEl.classList.add("hy-drawer-grabbing"),e.prepareInteraction())})),Te()),a=this.getEndObservable().pipe(ve(this.subjects.disconnect),rn(i,s),Te()),f=this.getMoveObservable(u,a).pipe(ve(this.subjects.disconnect),rn(i,s),Te()),l=this.getIsSlidingObservable(f,u,a).pipe(ke((function(t){t&&e.fireEvent("slidestart",{detail:e.opened})})));this.translateX$=ee((function(){return se(e.tween$,f.pipe(rn(l),ke((function(t){var n=t.event;return e.preventDefault&&n.preventDefault()})),Ie(u,e.startTranslateX$,r),(t=fe,void 0===n&&(n=0),function(e){return e.lift(new wt(t,n))}),ne((function(t){var n=Bn(t,4),r=n[0].clientX,o=n[1].clientX,i=n[2],u=n[3];return e.calcTranslateX(r,o,i,u)}))),Qt(e.subjects.opened,e.subjects.align,r).pipe(ke((function(t){var n=Bn(t,1)[0];return e.cleanupInteraction(n)})),ne((function(t){var e=Bn(t,3),n=e[0],r=e[1],o=e[2];return n?o*("left"===r?1:-1):0}))));var t,n})).pipe(ve(this.subjects.disconnect),Te()),this.startTranslateX$=this.translateX$.pipe((o=u,function(t){return t.lift(new De(o))}));var p,h=this.translateX$.pipe((void 0===p&&(p=Ve),ne((function(t){return new $e(t,p.now())}))),(function(t){return t.lift(new Xe)}),Fe((function(t){var e=Bn(t,2),n=e[0].timestamp;return e[1].timestamp-n>0})),ne((function(t){var e=Bn(t,2),n=e[0],r=n.value,o=n.timestamp,i=e[1];return(i.value-r)/(i.timestamp-o)})),de(0)),y=se(a.pipe(ke((function(){return e.contentEl.classList.remove("hy-drawer-grabbing")})),Ie(u,this.translateX$,r,h),Fe(this.calcIsSwipe.bind(this)),ne(this.calcWillOpen.bind(this)),ke((function(t){return e.fireEvent("slideend",{detail:t})}))),this.animateTo$.pipe(ke(this.prepareInteraction.bind(this))));this.tween$=y.pipe(ke((function(t){return e.setInternalState("opened",t)})),Ie(this.translateX$,r),Ue((function(t){var n,r=Bn(t,3),o=r[0],i=r[1],c=r[2],s="left"===e.align?1:-1;return Qe(Ge,i,(o?c*s:0)-i,200+.15*c).pipe(ke({complete:function(){return e.subjects.opened.next(o)}}),ve(u),ve(e.subjects.align.pipe((n=1,function(t){return t.lift(new We(n))}))),Te())}))),this.translateX$.pipe(Ie(r)).subscribe((function(t){var n=Bn(t,2),r=n[0],o=n[1];return e.updateDOM(r,o)})),le(this.scrimEl,"click").pipe(ve(this.subjects.disconnect)).subscribe((function(){return e.close()})),i.pipe(ve(this.subjects.disconnect)).subscribe((function(t){e.scrimEl.style.display=t?"block":"none"})),this.subjects.align.pipe(ve(this.subjects.disconnect)).subscribe((function(t){e.contentEl.classList.remove("hy-drawer-left"),e.contentEl.classList.remove("hy-drawer-right"),e.contentEl.classList.add("hy-drawer-".concat(t))})),this.subjects.mouseEvents.pipe(ve(this.subjects.disconnect),Ue((function(t){return t?e.contentEl.classList.add("hy-drawer-grab"):e.contentEl.classList.remove("hy-drawer-grab"),t?u.pipe(Ie(s)):he}))).subscribe((function(t){var e=Bn(t,2),n=e[0].event;return e[1]&&n&&n.preventDefault()})),this.fireEvent("init",{detail:this.opened})}}])&&Jn(e.prototype,n),r&&Jn(e,r),i}(zn(jn(dn(t))))};function rr(t){return(rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function or(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ir(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ur(t,e,n){return(ur="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=fr(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function cr(t,e){return(cr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function sr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=fr(t);if(e){var o=fr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ar(this,n)}}function ar(t,e){return!e||"object"!==rr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function fr(t){return(fr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var pr,hr=new i([].concat(function(t){if(Array.isArray(t))return lr(t)}(pr=j)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(pr)||function(t,e){if(t){if("string"==typeof t)return lr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lr(t,e):void 0}}(pr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["eventlistener","queryselector","requestanimationframe","classlist","opacity","csstransforms","csspointerevents"]));function yr(t){return(yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function br(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vr(t,e){return(vr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gr(t);if(e){var o=gr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return wr(this,n)}}function wr(t,e){return!e||"object"!==yr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gr(t){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Sr=new i(function(t){return function(t){if(Array.isArray(t))return _r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return _r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(hr));Sr.delete("customevent"),function(t,e){var n=t.toLowerCase(),r=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(r,t);var e=p(r);function r(){return s(this,r),e.apply(this,arguments)}return function(t,e,n){e&&a(t.prototype,e),n&&a(t,n)}(r,[{key:"setupShadowDOM",value:function(t){return this.$element=f(y(r.prototype),"setupShadowDOM",this).call(this,o()(t)),this.$element[0]}},{key:"fireEvent",value:function(t,e){var r=o.a.Event("".concat(t,".").concat(n),e);this.$element.trigger(r)}}]),r}(e),i=n.split(".").pop(),h=o.a.fn[i];o.a.fn[i]=function(t,i){for(var s=arguments.length,a=new Array(s>2?s-2:0),f=2;f<s;f++)a[f-2]=arguments[f];var l="string"==typeof t?t:null;return this.each((function(){var s=o()(this),f=s.data(n);if(f)l&&"function"==typeof f[l]?f[l].apply(f,[i].concat(a)):"object"===c(t)&&t&&o.a.extend(f,t);else{var p=e.defaults,h=e.types,y=s.data();Object.keys(p).forEach((function(t){if(y[t]){var n=u(h[t],y[t]);y[t]=null!=n?n:e.defaults[t]}}));var b=o.a.extend({},y,"object"===c(t)&&t);s.data(n,new r(this,b))}}))},o.a.fn[i].Constructor=r,o.a.fn[i].noConflict=function(){return o.a.fn[i]=h,this}}("hy.drawer",function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vr(t,e)}(u,t);var e,n,r,i=mr(u);function u(){return br(this,u),i.apply(this,arguments)}return e=u,(n=[{key:"setupShadowDOM",value:function(t){var e=t.children().detach();return t.append(o()('<div class="hy-drawer-scrim" />')).append(o()('<div class="hy-drawer-content" />').append(e)),t}}])&&dr(e.prototype,n),r&&dr(e,r),u}(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cr(t,e)}(i,t);var e,n,r,o=sr(i);function i(){return or(this,i),o.apply(this,arguments)}return e=i,r=[{key:"componentName",get:function(){return"hy-drawer"}},{key:"types",get:function(){return{opened:Dt,align:Vt(["left","right"]),persistent:Dt,range:Nt(Mt),threshold:Mt,preventDefault:Dt,touchEvents:Dt,mouseEvents:Dt}}},{key:"defaults",get:function(){return{opened:!1,align:"left",persistent:!1,range:[0,100],threshold:10,preventDefault:!1,touchEvents:!1,mouseEvents:!1}}}],(n=[{key:"setupComponent",value:function(t,e){ur(fr(i.prototype),"setupComponent",this).call(this,t,e),this.animateTo$=new nt,this.scrimEl=this.sroot.querySelector(".hy-drawer-scrim"),this.contentEl=this.sroot.querySelector(".hy-drawer-content"),this.contentEl.classList.add("hy-drawer-".concat(this.align))}},{key:"connectComponent",value:function(){this.setupObservables(),ur(fr(i.prototype),"connectComponent",this).call(this)}},{key:"open",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?this.animateTo$.next(!0):this.opened=!0}},{key:"close",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?this.animateTo$.next(!1):this.opened=!1}},{key:"toggle",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?this.animateTo$.next(!this.opened):this.opened=!this.opened}}])&&ir(e.prototype,n),r&&ir(e,r),i}(nr(kt(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;return function(t){w(n,t);var e=_(n);function n(){return E(this,n),e.apply(this,arguments)}return m(n,[{key:"setupComponent",value:function(t,e){var n=this.constructor.defaults;this[T]=Object.assign({},n,e),this.setupProperties(this),this[P]=this.setupShadowDOM(t)}},{key:"setupShadowDOM",value:function(t){return t}},{key:"connectComponent",value:function(){}},{key:"disconnectComponent",value:function(){}},{key:"adoptComponent",value:function(){}},{key:"getRoot",value:function(){return this[P]}},{key:"getEl",value:function(){return this[P]}},{key:"fireEvent",value:function(t,e){var n=this.constructor.componentName,r=new CustomEvent("".concat(n,"-").concat(t),e);this.el.dispatchEvent(r)}},{key:"setInternalState",value:function(t,e){this[T][t]=e}},{key:"setupProperties",value:function(){var t=this,e=this.constructor.sideEffects;Object.keys(this[T]).forEach((function(n){var r=e[n];t.setupProperty(n,r)}))}},{key:"setupProperty",value:function(t,e){var n=this;Object.defineProperty(this,t,{get:function(){return n[T][t]},set:function(r){var o=n[T][t];n.setInternalState(t,r),e&&e.call(n,r,o)},enumerable:!0,configurable:!0})}},{key:"sroot",get:function(){return this.getRoot()}},{key:"el",get:function(){return this.getEl()}}]),n}(t)}(b))))))}])}));
//# sourceMappingURL=index.js.map