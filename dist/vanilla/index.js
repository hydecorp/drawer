/*!
 * Copyright (c) 2018 Florian Klampfer <https://qwtel.com/>
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 * 
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("hyDrawer",[],e):"object"==typeof exports?exports.hyDrawer=e():t.hyDrawer=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}({2:function(t,e,n){"use strict";n.r(e),n.d(e,"VANILLA_FEATURE_TESTS",(function(){return hr})),n.d(e,"Set",(function(){return r})),n.d(e,"HyDrawer",(function(){return yr}));var r="undefined"!=typeof Set&&1===new Set([1]).size?Set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(t=t.filter((function(e,n){return n===t.indexOf(e)}))).size=t.length,t.has=function(e){return t.indexOf(e)>-1},t.add=function(e){return t.has(e)||(t.size++,t.push(e)),t},t.delete=function(e){var n;return(n=t.has(e))&&(t.size--,t.splice(t.indexOf(e),1)),n},t.clear=function(){for(;t.pop(););t.size=0},t};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=function(t){return"[object HTMLCollection]"===Object.prototype.toString.call(t)},u=function(t){return"[object NodeList]"===Object.prototype.toString.call(t)},c=function(t,e){function n(t){"string"==typeof t?this.appendChild(e(t)):this.appendChild(t)}return function(r,c){var s=t(r);for(var a in c)s.setAttribute(a,c[a]);for(var f=arguments.length,l=new Array(f>2?f-2:0),p=2;p<f;p++)l[p-2]=arguments[p];var h,y=l[0];return o(y)||(h=i(y))||(h=u(y))?(h&&(y=Array.prototype.slice.call(y,0)),Array.prototype.forEach.call(y,n,s)):Array.prototype.forEach.call(l,(function(t){"string"==typeof t?s.appendChild(e(t)):s.appendChild(t)})),s}},s=c(document.createElement.bind(document),document.createTextNode.bind(document));function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var m=new r(["customevent"]),w=Symbol||function(t){return"_".concat(t)},g=w("sroot"),_=w("state");window.process=window.process||{},window.process.env=window.process.env||{},window.requestIdleCallback=window.requestIdleCallback||function(t){return window.setTimeout(t,0)},window.cancelIdleCallback=window.cancelIdleCallback||window.clearTimeout;var S=function t(){v(this,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var E=function(t,e){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function O(t,e){function n(){this.constructor=t}E(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function j(t){return"function"==typeof t}var x=!1,T={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;x=t},get useDeprecatedSynchronousErrorHandling(){return x}};function I(t){setTimeout((function(){throw t}),0)}var P={closed:!0,next:function(t){},error:function(t){if(T.useDeprecatedSynchronousErrorHandling)throw t;I(t)},complete:function(){}},C=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t){return null!==t&&"object"===k(t)}var R=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}();function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var D=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var i=0;i<n.length;++i){n[i].remove(this)}if(j(r))try{r.call(this)}catch(t){e=t instanceof R?M(t.errors):[t]}if(C(o)){i=-1;for(var u=o.length;++i<u;){var c=o[i];if(A(c))try{c.unsubscribe()}catch(t){e=e||[],t instanceof R?e=e.concat(M(t.errors)):e.push(t)}}}if(e)throw new R(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(N(e)){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof t){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function M(t){return t.reduce((function(t,e){return t.concat(e instanceof R?e.errors:e)}),[])}var V=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var X=function(t){function e(n,r,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=P;break;case 1:if(!n){i.destination=P;break}if("object"===$(n)){n instanceof e?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new Y(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new Y(i,n,r,o)}return i}return O(e,t),e.prototype[V]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(D),Y=function(t){function e(e,n,r,o){var i,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return j(n)?i=n:n&&(i=n.next,r=n.error,o=n.complete,n!==P&&(j((c=Object.create(n)).unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=i,u._error=r,u._complete=o,u}return O(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;T.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=T.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):I(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;I(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};T.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),T.useDeprecatedSynchronousErrorHandling)throw t;I(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!T.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return T.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(I(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(X);var F=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function L(t){return t}function q(t){return 0===t.length?L:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var H=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=function(t,e,n){if(t){if(t instanceof X)return t;if(t[V])return t[V]()}return t||e||n?new X(t,e,n):new X(P)}(t,e,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||T.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),T.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){T.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),!function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof X?r:null}return!0}(t)?console.warn(e):t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=U(e))((function(e,r){var o;o=n.subscribe((function(e){try{t(e)}catch(t){r(t),o&&o.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[F]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:q(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=U(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function U(t){if(t||(t=T.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var z=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),W=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return O(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(D),B=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return O(e,t),e}(X),G=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return O(e,t),e.prototype[V]=function(){return new B(this)},e.prototype.lift=function(t){var e=new K(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new z;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new z;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new z;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new z;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new z;return this.hasError?(t.error(this.thrownError),D.EMPTY):this.isStopped?(t.complete(),D.EMPTY):(this.observers.push(t),new W(this,t))},e.prototype.asObservable=function(){var t=new H;return t.source=this,t},e.create=function(t,e){return new K(t,e)},e}(H),K=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return O(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):D.EMPTY},e}(G),J=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return O(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return O(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(D)),Q=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return O(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(J),Z=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),tt=function(t){function e(n,r){void 0===r&&(r=Z.now);var o=t.call(this,n,(function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return O(e,t),e.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,o):t.prototype.schedule.call(this,n,r,o)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(Z),et=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return O(e,t),e}(tt))(Q),nt=new H((function(t){return t.complete()}));function rt(t){return t?function(t){return new H((function(e){return t.schedule((function(){return e.complete()}))}))}(t):nt}function ot(t){return t&&"function"==typeof t.schedule}var it,ut=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function ct(t,e){return new H((function(n){var r=new D,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function st(t,e){return e?ct(t,e):new H(ut(t))}function at(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return ot(n)?(t.pop(),ct(t,n)):st(t)}function ft(t){var e=t.error;t.subscriber.error(e)}it||(it={});var lt=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){var t,e;switch(this.kind){case"N":return at(this.value);case"E":return t=this.error,new H(e?function(n){return e.schedule(ft,0,{error:t,subscriber:n})}:function(e){return e.error(t)});case"C":return rt()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();var pt=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new ht(t,this.scheduler,this.delay))},t}(),ht=function(t){function e(e,n,r){void 0===r&&(r=0);var o=t.call(this,e)||this;return o.scheduler=n,o.delay=r,o}return O(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new yt(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(lt.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(lt.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(lt.createComplete()),this.unsubscribe()},e}(X),yt=function(){return function(t,e){this.notification=t,this.destination=e}}(),bt=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var o=t.call(this)||this;return o.scheduler=r,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=e<1?1:e,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return O(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new dt(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=r.length;if(this.closed)throw new z;if(this.isStopped||this.hasError?e=D.EMPTY:(this.observers.push(t),e=new W(this,t)),o&&t.add(t=new ht(t,o)),n)for(var u=0;u<i&&!t.closed;u++)t.next(r[u]);else for(u=0;u<i&&!t.closed;u++)t.next(r[u].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||et).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(t-r[i].time<n);)i++;return o>e&&(i=Math.max(i,o-e)),i>0&&r.splice(0,i),r},e}(G),dt=function(){return function(t,e){this.time=t,this.value=e}}();function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gt(t,e,n){return(gt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Ot(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function _t(t,e){return(_t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function St(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ot(t);if(e){var o=Ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Et(this,n)}}function Et(t,e){return!e||"object"!==vt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ot(t){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var jt=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_t(t,e)}(i,t);var e,n,r,o=St(i);function i(){return mt(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"setupComponent",value:function(t,e){var n=this,r={};this.subjects={},this.subjects.disconnect=new G,this.subjects.document=new bt,Object.keys(this.constructor.types).map((function(t){n.subjects[t]=new bt(1),r[t]=function(e){return n.subjects[t].next(e)}})),Object.defineProperty(this.constructor,"sideEffects",{get:function(){return r},set:function(){},enumerable:!0,configurable:!0}),gt(Ot(i.prototype),"setupComponent",this).call(this,t,e)}},{key:"connectComponent",value:function(){var t=this;gt(Ot(i.prototype),"connectComponent",this).call(this),this.subjects.document.next(document),Object.keys(this.constructor.types).map((function(e){return t.subjects[e].next(t[e])}))}},{key:"disconnectComponent",value:function(){gt(Ot(i.prototype),"disconnectComponent",this).call(this),this.subjects.disconnect.next({})}},{key:"adaptComponent",value:function(){gt(Ot(i.prototype),"adaptComponent",this).call(this),this.subjects.document.next(document)}}])&&wt(e.prototype,n),r&&wt(e,r),i}(t)},xt=function(t){return null==t?null:t.trim().replace(/^\[?(.*?)\]?$/,"$1").split(",").map((function(t){return t.trim()}))||null};xt.stringify=function(t){return t&&t.length>0?t.join(","):null};var Tt=function(t){var e=function(e){if(null==e)return null;var n=xt(e).map(t);return n.reduce((function(t,e){return t&&null!==e}),!0)?n:null};return e.stringify=function(e){var n=e&&e.map&&e.map(t.stringify);return n&&n.reduce((function(t,e){return t&&null!==e}),!0)?xt.stringify(n):null},e},It=function(t){if(null==t)return!1;var e=t.trim&&t.trim()||t;return!("false"===e||"null"===e||"undefined"===e||"0"===e||!1===e)};It.stringify=function(t){return t?"":null};var Pt=function(t){return null==t?null:Number(t)};Pt.stringify=function(t){return null==t?null:"".concat(t)};var Ct=function(t){var e=function(e){if(null==e)return null;var n=t.indexOf(e);return n>-1?t[n]:null};return e.stringify=function(e){return-1!==t.indexOf(e)?e:null},e},kt=function(t){if(null==t)return null;var e=(t.trim&&t.trim()||t).match(/^\/?(.*?)(\/([gimy]*))?$/);return new RegExp(e[1],e[3])};kt.stringify=function(t){return t&&t.toString()||null};var At=function(t){return t};At.stringify=function(t){return t};var Rt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return O(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(X),Nt=function(t){function e(e,n,r){var o=t.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=r,o.index=0,o}return O(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(X);function Dt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Mt=Dt(),Vt=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function $t(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var Xt=function(t){if(t&&"function"==typeof t[F])return r=t,function(t){var e=r[F]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Vt(t))return ut(t);if($t(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,I),t};if(t&&"function"==typeof t[Mt])return e=t,function(t){for(var n=e[Mt]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,o=A(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+o+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Yt(t,e,n,r,o){if(void 0===o&&(o=new Nt(t,n,r)),!o.closed)return e instanceof H?e.subscribe(o):Xt(e)(o)}var Ft={};function Lt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return ot(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&C(t[0])&&(t=t[0]),st(t,r).lift(new qt(n))}var qt=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Ht(t,this.resultSelector))},t}(),Ht=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return O(e,t),e.prototype._next=function(t){this.values.push(Ft),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Yt(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){var i=this.values,u=i[n],c=this.toRespond?u===Ft?--this.toRespond:this.toRespond:0;i[n]=e,0===c&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Rt);function Ut(t){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zt(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[F]}(t))return function(t,e){return new H((function(n){var r=new D;return r.add(e.schedule((function(){var o=t[F]();r.add(o.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if($t(t))return function(t,e){return new H((function(n){var r=new D;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Vt(t))return ct(t,e);if(function(t){return t&&"function"==typeof t[Mt]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new H((function(n){var r,o=new D;return o.add((function(){r&&"function"==typeof r.return&&r.return()})),o.add(e.schedule((function(){r=t[Mt](),o.add(e.schedule((function(){if(!n.closed){var t,e;try{var o=r.next();t=o.value,e=o.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}})))}))),o}))}(t,e)}throw new TypeError((null!==t&&Ut(t)||t)+" is not observable")}function Wt(t,e){return e?zt(t,e):t instanceof H?t:new H(Xt(t))}function Bt(t){return new H((function(e){var n;try{n=t()}catch(t){return void e.error(t)}return(n?Wt(n):rt()).subscribe(e)}))}function Gt(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Kt(t,e))}}var Kt=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Jt(t,this.project,this.thisArg))},t}(),Jt=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return O(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(X);var Qt=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new Zt(t,this.project,this.concurrent))},t}(),Zt=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=t.call(this,e)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return O(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new Nt(this,e,n),o=this.destination;o.add(r);var i=Yt(this,t,void 0,void 0,r);i!==r&&o.add(i)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(Rt);function te(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),function t(e,n,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof n?function(o){return o.pipe(t((function(t,r){return Wt(e(t,r)).pipe(Gt((function(e,o){return n(t,e,r,o)})))}),r))}:("number"==typeof n&&(r=n),function(t){return t.lift(new Qt(e,r))})}(L,t)}function ee(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,o=t[t.length-1];return ot(o)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof o&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof H?t[0]:te(n)(st(t,r))}var ne=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return O(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(J),re=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return O(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,o=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<o&&(t=n.shift()));if(this.active=!1,e){for(;++r<o&&(t=n.shift());)t.unsubscribe();throw e}},e}(tt))(ne);function oe(t,e,n,r){return j(n)&&(r=n,n=void 0),r?oe(t,e,n).pipe(Gt((function(t){return C(t)?r.apply(void 0,t):r(t)}))):new H((function(r){!function t(e,n,r,o,i){var u;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var c=e;e.addEventListener(n,r,i),u=function(){return c.removeEventListener(n,r,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var s=e;e.on(n,r),u=function(){return s.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var a=e;e.addListener(n,r),u=function(){return a.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var f=0,l=e.length;f<l;f++)t(e[f],n,r,o,i)}o.add(u)}(t,e,(function(t){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(t)}),r,n)}))}function ie(){}var ue=new H(ie);function ce(){return te(1)}function se(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ce()(at.apply(void 0,t))}function ae(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return ot(n)?(t.pop(),function(e){return se(t,e,n)}):function(e){return se(t,e)}}function fe(t){return function(e){return e.lift(new le(t))}}var le=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new pe(t),r=Yt(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n},t}(),pe=function(t){function e(e){var n=t.call(this,e)||this;return n.seenValue=!1,n}return O(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(Rt);function he(){return function(t){return t.lift(new ye(t))}}var ye=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new be(t,n),o=e.subscribe(r);return r.closed||(r.connection=n.connect()),o},t}(),be=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return O(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(X),de=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return O(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new D).add(this.source.subscribe(new me(this.getSubject(),this))),t.closed&&(this._connection=null,t=D.EMPTY)),t},e.prototype.refCount=function(){return he()(this)},e}(H),ve=function(){var t=de.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),me=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return O(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(B);var we=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),o=n(r).subscribe(t);return o.add(e.subscribe(r)),o},t}();function ge(){return new G}function _e(){return function(t){return he()((e=ge,function(t){var r;if(r="function"==typeof e?e:function(){return e},"function"==typeof n)return t.lift(new we(r,n));var o=Object.create(t,ve);return o.source=t,o.subjectFactory=r,o})(t));var e,n}}function Se(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n;"function"==typeof t[t.length-1]&&(n=t.pop());var r=t;return e.lift(new Ee(r,n))}}var Ee=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new Oe(t,this.observables,this.project))},t}(),Oe=function(t){function e(e,n,r){var o=t.call(this,e)||this;o.observables=n,o.project=r,o.toRespond=[];var i=n.length;o.values=new Array(i);for(var u=0;u<i;u++)o.toRespond.push(u);for(u=0;u<i;u++){var c=n[u];o.add(Yt(o,c,c,u))}return o}return O(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.values[n]=e;var i=this.toRespond;if(i.length>0){var u=i.indexOf(n);-1!==u&&i.splice(u,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Rt);function je(t,e,n){return function(r){return r.lift(new xe(t,e,n))}}var xe=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new Te(t,this.nextOrObserver,this.error,this.complete))},t}(),Te=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i._tapNext=ie,i._tapError=ie,i._tapComplete=ie,i._tapError=r||ie,i._tapComplete=o||ie,j(n)?(i._context=i,i._tapNext=n):n&&(i._context=n,i._tapNext=n.next||ie,i._tapError=n.error||ie,i._tapComplete=n.complete||ie),i}return O(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(X);var Ie=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new Pe(t),r=e.subscribe(n);return r.add(Yt(n,this.notifier)),r},t}(),Pe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasValue=!1,e}return O(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,n,r,o){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(Rt),Ce=new tt(J);var ke=function(){return function(t,e){this.value=t,this.timestamp=e}}();var Ae=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Re(t))},t}(),Re=function(t){function e(e){var n=t.call(this,e)||this;return n.hasPrev=!1,n}return O(e,t),e.prototype._next=function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)},e}(X);function Ne(t,e){return function(n){return n.lift(new De(t,e))}}var De=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Me(t,this.predicate,this.thisArg))},t}(),Me=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return O(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(X);function Ve(t,e){return"function"==typeof e?function(n){return n.pipe(Ve((function(n,r){return Wt(t(n,r)).pipe(Gt((function(t,o){return e(n,t,r,o)})))})))}:function(e){return e.lift(new $e(t))}}var $e=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new Xe(t,this.project))},t}(),Xe=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return O(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var o=new Nt(this,e,n),i=this.destination;i.add(o),this.innerSubscription=Yt(this,t,void 0,void 0,o),this.innerSubscription!==o&&i.add(this.innerSubscription)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e}(Rt);var Ye=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new Fe(t,this.total))},t}(),Fe=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return O(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(X);function Le(t,e,n,r,o){return H.create((function(i){var u,c=requestAnimationFrame((function s(a){var f=a-(u=u||a);f<r?(i.next(t(f,e,n,r,o)),c=requestAnimationFrame(s)):(i.next(t(r,e,n,r,o)),c=requestAnimationFrame((function(){return i.complete()})))}));return function(){c&&cancelAnimationFrame(c)}}))}function qe(t,e,n,r){return n*Math.sin(t/r*(Math.PI/2))+e}function He(t){return Ge(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||We(t)||ze()}function Ue(t,e){return Ge(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||We(t,e)||ze()}function ze(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function We(t,e){if(t){if("string"==typeof t)return Be(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Be(t,e):void 0}}function Be(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ge(t){if(Array.isArray(t))return t}var Ke=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(e){return 0===n.length?e.pipe(Se(t),Ne((function(t){return Ue(t,2)[1]})),Gt((function(t){return Ue(t,1)[0]}))):e.pipe(Se.apply(void 0,[t].concat(n)),Ne((function(t){return He(t).slice(1).every((function(t){return t}))})),Gt((function(t){return Ue(t,1)[0]})))}};function Je(t){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qe(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ze(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ze(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function en(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nn(t,e){return(nn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=un(t);if(e){var o=un(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return on(this,n)}}function on(t,e){return!e||"object"!==Je(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function un(t){return(un=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var cn=Math.min.bind(Math),sn=Math.max.bind(Math),an=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nn(t,e)}(i,t);var e,n,r,o=rn(i);function i(){return tn(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"calcIsInRange",value:function(t,e){switch(this.align){case"left":var n=this.range[0],r=this.range[1];return t>n&&(e||t<r);case"right":var o=window.innerWidth-this.range[0],i=window.innerWidth-this.range[1];return t<o&&(e||t>i);default:throw Error()}}},{key:"calcIsSwipe",value:function(t){var e=Qe(t,4),n=e[0].clientX,r=e[1].clientX,o=e[2],i=e[3];return n!==r||o>0&&o<i}},{key:"calcWillOpen",value:function(t){var e=Qe(t,5),n=e[2],r=e[3],o=e[4];switch(this.align){case"left":return o>.15||!(o<-.15)&&n>=r/2;case"right":return-o>.15||!(-o<-.15)&&n<=-r/2;default:throw Error()}}},{key:"calcTranslateX",value:function(t,e,n,r){switch(this.align){case"left":return sn(0,cn(r,n+(t-e)));case"right":return cn(0,sn(-r,n+(t-e)));default:throw Error()}}}])&&en(e.prototype,n),r&&en(e,r),i}(t)};function fn(t){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ln(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hn(t,e){return(hn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=dn(t);if(e){var o=dn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bn(this,n)}}function bn(t,e){return!e||"object"!==fn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function dn(t){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vn="attributeStyleMap"in Element.prototype&&"CSS"in window&&CSS.number,mn=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hn(t,e)}(i,t);var e,n,r,o=yn(i);function i(){return ln(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"histId",value:function(){return this.el.id||this.constructor.componentName}},{key:"prepareInteraction",value:function(){vn?(this.contentEl.attributeStyleMap.set("will-change","transform"),this.scrimEl.attributeStyleMap.set("will-change","opacity")):(this.contentEl.style.willChange="transform",this.scrimEl.style.willChange="opacity"),this.fireEvent("prepare")}},{key:"cleanupInteraction",value:function(t){vn?(this.contentEl.attributeStyleMap.delete("will-change"),this.scrimEl.attributeStyleMap.delete("will-change"),t?this.scrimEl.attributeStyleMap.set("pointer-events",new CSSKeywordValue("all")):this.scrimEl.attributeStyleMap.delete("pointer-events")):(this.scrimEl.style.willChange="",this.contentEl.style.willChange="",this.scrimEl.style.pointerEvents=t?"all":""),this.fireEvent("transitioned",{detail:t})}},{key:"updateDOM",value:function(t,e){this.translateX=t;var n="left"===this.align?1:-1,r=this.opacity=t/e*n;this.moveCallback&&this.moveCallback({translateX:t,opacity:r}),vn?(this.contentEl.attributeStyleMap.set("transform",new CSSTransformValue([new CSSTranslate(CSS.px(t),CSS.px(0))])),this.scrimEl.attributeStyleMap.set("opacity",this.opacity)):(this.contentEl.style.transform="translateX(".concat(t,"px)"),this.scrimEl.style.opacity=this.opacity)}}])&&pn(e.prototype,n),r&&pn(e,r),i}(t)};function wn(t){return function(e){return e.lift(new gn(t))}}var gn=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new _n(t,this.value))},t}(),_n=function(t){function e(e,n){var r=t.call(this,e)||this;return r.value=n,r}return O(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(X),Sn=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();var En=function(){function t(t){if(this.total=t,this.total<0)throw new Sn}return t.prototype.call=function(t,e){return e.subscribe(new On(t,this.total))},t}(),On=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return O(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(X);var jn=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new xn(t,this.notifier,e))},t}(),xn=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.notifier=n,o.source=r,o.sourceIsBeingSubscribedTo=!0,o}return O(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},e.prototype.subscribeToRetries=function(){var e;this.notifications=new G;try{e=(0,this.notifier)(this.notifications)}catch(e){return t.prototype.complete.call(this)}this.retries=e,this.retriesSubscription=Yt(this,e)},e}(Rt);var Tn=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new In(t,this.predicate))},t}(),In=function(t){function e(e,n){var r=t.call(this,e)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return O(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(X);function Pn(t){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return kn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kn(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function An(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nn(t,e){return(Nn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Dn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Vn(t);if(e){var o=Vn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mn(this,n)}}function Mn(t,e){return!e||"object"!==Pn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Vn(t){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $n=Math.abs.bind(Math),Xn=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Nn(t,e)}(i,t);var e,n,r,o=Dn(i);function i(){return An(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"getStartObservable",value:function(){return Lt(this.subjects.document,this.subjects.touchEvents,this.subjects.mouseEvents).pipe(Ve((function(t){var e=Cn(t,3),n=e[0],r=e[1],o=e[2];return ee(r?oe(n,"touchstart",{passive:!0}).pipe(Ne((function(t){return 1===t.touches.length})),Gt((function(t){return t.touches[0]}))):ue,o?oe(n,"mousedown").pipe(je((function(t){return t.event=t,t}))):ue)})))}},{key:"getMoveObservable",value:function(t,e){return Lt(this.subjects.document,this.subjects.touchEvents,this.subjects.mouseEvents,this.subjects.preventDefault).pipe(Ve((function(n){var r,o=Cn(n,4),i=o[0],u=o[1],c=o[2],s=o[3],a=u?oe(i,"touchmove",{passive:!s}).pipe(Gt((function(t){return t.touches[0].event=t,t.touches[0]}))):ue,f=c?oe(i,"mousemove",{passive:!s}).pipe((r=ee(t.pipe(wn(!0)),e.pipe(wn(!1))),function(t){return r.pipe(Ve((function(e){return e?t:ue})))}),je((function(t){return t.event=t,t}))):ue;return ee(a,f)})))}},{key:"getEndObservable",value:function(){return Lt(this.subjects.document,this.subjects.touchEvents,this.subjects.mouseEvents).pipe(Ve((function(t){var e=Cn(t,3),n=e[0],r=e[1],o=e[2];return ee(r?oe(n,"touchend",{passive:!0}).pipe(Ne((function(t){return 0===t.touches.length})),Gt((function(t){return t.changedTouches[0]}))):ue,o?oe(n,"mouseup",{passive:!0}):ue)})))}},{key:"getIsSlidingObservable",value:function(t,e,n){return this.getIsSlidingObservable2(t,e).pipe((o=1,function(t){return 0===o?rt():t.lift(new En(o))}),ae(void 0),(r=function(){return n},function(t){return t.lift(new jn(r))}));var r,o}},{key:"getIsSlidingObservable2",value:function(t,e){var n,r=this;return this.threshold?t.pipe(Se(e),(n=function(t){var e=Cn(t,2),n=e[0],o=n.clientX,i=n.clientY,u=e[1],c=u.clientX,s=u.clientY;return $n(s-i)<r.threshold&&$n(c-o)<r.threshold},function(t){return t.lift(new Tn(n))}),Gt((function(t){var e=Cn(t,2),n=e[0],r=n.clientX,o=n.clientY,i=e[1],u=i.clientX,c=i.clientY;return $n(u-r)>=$n(c-o)}))):t.pipe(Se(e),Gt((function(t){var e=Cn(t,2),n=e[0],o=n.clientX,i=n.clientY,u=n.event,c=e[1],s=c.clientX,a=c.clientY,f=$n(s-o)>=$n(a-i);return r.preventDefault&&f&&u.preventDefault(),f})))}}])&&Rn(e.prototype,n),r&&Rn(e,r),i}(t)};function Yn(t){return(Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ln(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ln(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ln(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Un(t,e){return(Un=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Bn(t);if(e){var o=Bn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn(this,n)}}function Wn(t,e){return!e||"object"!==Yn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Bn(t){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Gn=function(t){return function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Un(t,e)}(i,t);var e,n,r,o=zn(i);function i(){return qn(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"setupObservables",value:function(){var t,e=this,n={contentRect:this.contentEl.getBoundingClientRect()},r=("ResizeObserver"in window?(t=ResizeObserver,function(e,n,r){return H.create((function(o){var i=o.next.bind(o),u=new t((function(t){return Array.from(t).forEach(i)}),n);return u.observe(e,r),function(){u.unobserve(e)}}))})(this.contentEl).pipe(ae(n)):at(n)).pipe(fe(this.subjects.disconnect),Gt((function(t){return t.contentRect.width})),_e(),ae(n.contentRect.width));this._peek$&&(r=Lt(r,this._peek$).pipe(Gt((function(t){var e=Fn(t,2);return e[0]-e[1]}))));var o,i=this.subjects.persistent.pipe(Gt((function(t){return!t}))),u=this.getStartObservable().pipe(fe(this.subjects.disconnect),Ke(i),_e()),c=Bt((function(){return e.translateX$.pipe(Gt((function(t){return 0!=t})))})),s=u.pipe(Se(c),Gt((function(t){var n=Fn(t,2),r=n[0].clientX,o=n[1];return e.calcIsInRange(r,o)})),je((function(t){t&&(e.mouseEvents&&e.contentEl.classList.add("hy-drawer-grabbing"),e.prepareInteraction())})),_e()),a=this.getEndObservable().pipe(fe(this.subjects.disconnect),Ke(i,s),_e()),f=this.getMoveObservable(u,a).pipe(fe(this.subjects.disconnect),Ke(i,s),_e()),l=this.getIsSlidingObservable(f,u,a).pipe(je((function(t){t&&e.fireEvent("slidestart",{detail:e.opened})})));this.translateX$=Bt((function(){return ee(e.tween$,f.pipe(Ke(l),je((function(t){var n=t.event;return e.preventDefault&&n.preventDefault()})),Se(u,e.startTranslateX$,r),(t=re,void 0===n&&(n=0),function(e){return e.lift(new pt(t,n))}),Gt((function(t){var n=Fn(t,4),r=n[0].clientX,o=n[1].clientX,i=n[2],u=n[3];return e.calcTranslateX(r,o,i,u)}))),Lt(e.subjects.opened,e.subjects.align,r).pipe(je((function(t){var n=Fn(t,1)[0];return e.cleanupInteraction(n)})),Gt((function(t){var e=Fn(t,3),n=e[0],r=e[1],o=e[2];return n?o*("left"===r?1:-1):0}))));var t,n})).pipe(fe(this.subjects.disconnect),_e()),this.startTranslateX$=this.translateX$.pipe((o=u,function(t){return t.lift(new Ie(o))}));var p,h=this.translateX$.pipe((void 0===p&&(p=Ce),Gt((function(t){return new ke(t,p.now())}))),(function(t){return t.lift(new Ae)}),Ne((function(t){var e=Fn(t,2),n=e[0].timestamp;return e[1].timestamp-n>0})),Gt((function(t){var e=Fn(t,2),n=e[0],r=n.value,o=n.timestamp,i=e[1];return(i.value-r)/(i.timestamp-o)})),ae(0)),y=ee(a.pipe(je((function(){return e.contentEl.classList.remove("hy-drawer-grabbing")})),Se(u,this.translateX$,r,h),Ne(this.calcIsSwipe.bind(this)),Gt(this.calcWillOpen.bind(this)),je((function(t){return e.fireEvent("slideend",{detail:t})}))),this.animateTo$.pipe(je(this.prepareInteraction.bind(this))));this.tween$=y.pipe(je((function(t){return e.setInternalState("opened",t)})),Se(this.translateX$,r),Ve((function(t){var n,r=Fn(t,3),o=r[0],i=r[1],c=r[2],s="left"===e.align?1:-1;return Le(qe,i,(o?c*s:0)-i,200+.15*c).pipe(je({complete:function(){return e.subjects.opened.next(o)}}),fe(u),fe(e.subjects.align.pipe((n=1,function(t){return t.lift(new Ye(n))}))),_e())}))),this.translateX$.pipe(Se(r)).subscribe((function(t){var n=Fn(t,2),r=n[0],o=n[1];return e.updateDOM(r,o)})),oe(this.scrimEl,"click").pipe(fe(this.subjects.disconnect)).subscribe((function(){return e.close()})),i.pipe(fe(this.subjects.disconnect)).subscribe((function(t){e.scrimEl.style.display=t?"block":"none"})),this.subjects.align.pipe(fe(this.subjects.disconnect)).subscribe((function(t){e.contentEl.classList.remove("hy-drawer-left"),e.contentEl.classList.remove("hy-drawer-right"),e.contentEl.classList.add("hy-drawer-".concat(t))})),this.subjects.mouseEvents.pipe(fe(this.subjects.disconnect),Ve((function(t){return t?e.contentEl.classList.add("hy-drawer-grab"):e.contentEl.classList.remove("hy-drawer-grab"),t?u.pipe(Se(s)):ue}))).subscribe((function(t){var e=Fn(t,2),n=e[0].event;return e[1]&&n&&n.preventDefault()})),this.fireEvent("init",{detail:this.opened})}}])&&Hn(e.prototype,n),r&&Hn(e,r),i}(Xn(mn(an(t))))};function Kn(t){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zn(t,e,n){return(Zn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rr(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function tr(t,e){return(tr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function er(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=rr(t);if(e){var o=rr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nr(this,n)}}function nr(t,e){return!e||"object"!==Kn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rr(t){return(rr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function or(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ir;function ur(t){return(ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ar(t,e){return(ar=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pr(t);if(e){var o=pr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return lr(this,n)}}function lr(t,e){return!e||"object"!==ur(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function pr(t){return(pr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hr=new r([].concat(function(t){if(Array.isArray(t))return or(t)}(ir=m)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(ir)||function(t,e){if(t){if("string"==typeof t)return or(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?or(t,e):void 0}}(ir)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),["eventlistener","queryselector","requestanimationframe","classlist","opacity","csstransforms","csspointerevents"])),yr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ar(t,e)}(i,t);var e,n,r,o=fr(i);function i(){return cr(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"setupShadowDOM",value:function(t){if(!t)throw Error("No element provided");var e=new DocumentFragment;return e.appendChild(s("div",{class:"hy-drawer-scrim"})),e.appendChild(s("div",{class:"hy-drawer-content"},t.children)),t.appendChild(e),t}}])&&sr(e.prototype,n),r&&sr(e,r),i}(function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tr(t,e)}(i,t);var e,n,r,o=er(i);function i(){return Jn(this,i),o.apply(this,arguments)}return e=i,r=[{key:"componentName",get:function(){return"hy-drawer"}},{key:"types",get:function(){return{opened:It,align:Ct(["left","right"]),persistent:It,range:Tt(Pt),threshold:Pt,preventDefault:It,touchEvents:It,mouseEvents:It}}},{key:"defaults",get:function(){return{opened:!1,align:"left",persistent:!1,range:[0,100],threshold:10,preventDefault:!1,touchEvents:!1,mouseEvents:!1}}}],(n=[{key:"setupComponent",value:function(t,e){Zn(rr(i.prototype),"setupComponent",this).call(this,t,e),this.animateTo$=new G,this.scrimEl=this.sroot.querySelector(".hy-drawer-scrim"),this.contentEl=this.sroot.querySelector(".hy-drawer-content"),this.contentEl.classList.add("hy-drawer-".concat(this.align))}},{key:"connectComponent",value:function(){this.setupObservables(),Zn(rr(i.prototype),"connectComponent",this).call(this)}},{key:"open",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?this.animateTo$.next(!0):this.opened=!0}},{key:"close",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?this.animateTo$.next(!1):this.opened=!1}},{key:"toggle",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?this.animateTo$.next(!this.opened):this.opened=!this.opened}}])&&Qn(e.prototype,n),r&&Qn(e,r),i}(Gn(jt(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S;return function(t){p(n,t);var e=y(n);function n(){return v(this,n),e.apply(this,arguments)}return l(n,[{key:"setupComponent",value:function(t,e){var n=this.constructor.defaults;this[_]=Object.assign({},n,e),this.setupProperties(this),this[g]=this.setupShadowDOM(t)}},{key:"setupShadowDOM",value:function(t){return t}},{key:"connectComponent",value:function(){}},{key:"disconnectComponent",value:function(){}},{key:"adoptComponent",value:function(){}},{key:"getRoot",value:function(){return this[g]}},{key:"getEl",value:function(){return this[g]}},{key:"fireEvent",value:function(t,e){var n=this.constructor.componentName,r=new CustomEvent("".concat(n,"-").concat(t),e);this.el.dispatchEvent(r)}},{key:"setInternalState",value:function(t,e){this[_][t]=e}},{key:"setupProperties",value:function(){var t=this,e=this.constructor.sideEffects;Object.keys(this[_]).forEach((function(n){var r=e[n];t.setupProperty(n,r)}))}},{key:"setupProperty",value:function(t,e){var n=this;Object.defineProperty(this,t,{get:function(){return n[_][t]},set:function(r){var o=n[_][t];n.setInternalState(t,r),e&&e.call(n,r,o)},enumerable:!0,configurable:!0})}},{key:"sroot",get:function(){return this.getRoot()}},{key:"el",get:function(){return this.getEl()}}]),n}(t)}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.setupComponent(e,n),this.connectComponent()}))))))}})}));
//# sourceMappingURL=index.js.map